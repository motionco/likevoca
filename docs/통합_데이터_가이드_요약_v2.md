# 다국어 학습 플랫폼 통합 데이터 가이드 - 완전 요약본 v2

## 📋 핵심 개요

다국어 학습 플랫폼의 **3개 컬렉션** (concepts, examples, grammar) 연동 시스템의 완전한 가이드입니다.

## 🔗 컬렉션 간 연결성 (concept_id 체계)

### concept_id 형식 및 규칙
```
{domain}_{word}_{meaning}
```

**예시:**
- `food_apple_fruit` - 사과 (음식, 과일)
- `daily_hello_greeting` - 안녕 (일상, 인사)
- `travel_travel_journey` - 여행 (여행, 여정)
- `education_study_learn` - 공부 (교육, 학습)

### 필수 일관성 규칙 (중요!)
1. **동일 concept_id = 동일 단어 사용**: concepts, examples, grammar 모두에서 같은 단어 사용
2. **예문 차별화**: 동일 concept_id의 3개 컬렉션은 서로 다른 예문 사용
3. **완전한 문장**: 모든 예문은 주어+동사 포함한 완전한 문장으로 작성

### 중복 데이터 처리 정책
**시스템이 자동으로 제외하는 중복 기준:**
1. **concept_id 중복**: 동일한 concept_id가 이미 존재
2. **단어+의미 조합 중복**: 동일한 english_word/korean_word + meaning 조합
3. **예문 중복**: 동일한 예문이 이미 존재

**중복 처리 규칙:** 기존 데이터 우선, 신규 데이터 스킵, 관련된 모든 파일에서 일관된 제거

## 📊 CSV 파일 헤더 표준화 (필수 암기)

### 1. Concepts CSV (58개 필드)
```csv
concept_id,domain,category,difficulty,emoji,color,situation,purpose,korean_word,korean_pronunciation,korean_definition,korean_pos,korean_synonyms,korean_antonyms,korean_word_family,korean_compound_words,korean_collocations,english_word,english_pronunciation,english_definition,english_pos,english_synonyms,english_antonyms,english_word_family,english_compound_words,english_collocations,chinese_word,chinese_pronunciation,chinese_definition,chinese_pos,chinese_synonyms,chinese_antonyms,chinese_word_family,chinese_compound_words,chinese_collocations,japanese_word,japanese_pronunciation,japanese_definition,japanese_pos,japanese_synonyms,japanese_antonyms,japanese_word_family,japanese_compound_words,japanese_collocations,spanish_word,spanish_pronunciation,spanish_definition,spanish_pos,spanish_synonyms,spanish_antonyms,spanish_word_family,spanish_compound_words,spanish_collocations,korean_example,english_example,chinese_example,japanese_example,spanish_example
```

**구성:** 연결성(1) + 기본정보(7) + 언어별표현(45) + 대표예문(5) = **총 58개**

### 2. Examples CSV (16개 필드)
```csv
concept_id,domain,category,difficulty,situation,purpose,korean,english,japanese,chinese,spanish,korean_word,english_word,japanese_word,chinese_word,spanish_word
```

**구성:** 연결성(1) + 기본정보(5) + 예문(5) + 핵심단어(5) = **총 16개**

### 3. Grammar CSV (31개 필드)
```csv
concept_id,domain,category,difficulty,situation,purpose,korean_title,korean_structure,korean_description,korean_example,english_title,english_structure,english_description,english_example,japanese_title,japanese_structure,japanese_description,japanese_example,chinese_title,chinese_structure,chinese_description,chinese_example,spanish_title,spanish_structure,spanish_description,spanish_example,korean_word,english_word,japanese_word,chinese_word,spanish_word
```

**구성:** 연결성(1) + 기본정보(5) + 언어별패턴정보(20) + 핵심단어(5) = **총 31개**

## 🏷️ 공통 속성 가이드

### Domain (도메인) - 12개 값
1. **daily** - 일상생활
2. **food** - 음식
3. **travel** - 여행
4. **business** - 비즈니스
5. **education** - 교육 (기존 academic 통합)
6. **nature** - 자연
7. **technology** - 기술
8. **health** - 건강
9. **sports** - 스포츠
10. **entertainment** - 엔터테인먼트
11. **culture** - 문화
12. **other** - 기타

### Category (카테고리) - 도메인별 세부 분류
#### 주요 도메인별 카테고리 예시:
- **daily**: household, family, routine, clothing, furniture, shopping, transportation, communication, personal_care, leisure, relationships, emotions, time, weather_talk, other
- **food**: fruit, vegetable, meat, drink, snack, grain, seafood, dairy, cooking, dining, restaurant, kitchen_utensils, spices, dessert, other
- **education**: teaching, learning, classroom, curriculum, assessment, pedagogy, skill_development, online_learning, training, certification, educational_technology, student_life, graduation, examination, university, library, other

### Difficulty (난이도) - 5개 값
1. **basic** - 기초 (초급자용, 일상적인 기본 표현)
2. **intermediate** - 중급 (어느 정도 언어 능력 필요)
3. **advanced** - 고급 (복잡한 문법과 어휘 사용)
4. **fluent** - 유창 (원어민 수준의 표현력 필요)
5. **technical** - 전문 (특정 분야의 전문 용어 및 표현)

### Situation (상황) - 13개 태그 배열
**사용 가능한 태그:**
1. **formal** - 공식적인 상황 (회의, 발표, 공문서)
2. **casual** - 비공식적인 상황 (친구와의 대화, 일상 대화)
3. **polite** - 정중한 상황 (예의를 갖춘 표현, 처음 만나는 사람)
4. **urgent** - 긴급한 상황
5. **work** - 업무/직장
6. **school** - 학교/교육
7. **social** - 사교/모임
8. **travel** - 여행
9. **shopping** - 쇼핑
10. **home** - 가정/집
11. **public** - 공공장소
12. **online** - 온라인/디지털
13. **medical** - 의료/건강

**조합 규칙:**
- ✅ **올바른 조합**: `["formal", "work"]`, `["casual", "home"]`, `["polite", "shopping"]`
- ❌ **피해야 할 조합**: `["formal", "casual"]` (상반된 개념)

### Purpose (목적) - 12개 값
1. **greeting** - 인사
2. **thanking** - 감사 표현
3. **request** - 요청
4. **question** - 질문
5. **opinion** - 의견 표현
6. **agreement** - 동의
7. **refusal** - 거절
8. **apology** - 사과
9. **instruction** - 지시/설명
10. **description** - 묘사/설명
11. **suggestion** - 제안
12. **emotion** - 감정 표현

### Part of Speech (품사) - 10개 값
1. **noun** - 명사 (사물, 개념, 인물 등)
2. **verb** - 동사 (행동, 상태, 존재 등)
3. **adjective** - 형용사 (명사를 수식하여 성질이나 상태)
4. **adverb** - 부사 (동사, 형용사, 다른 부사를 수식)
5. **pronoun** - 대명사 (명사를 대신하는 말)
6. **preposition** - 전치사/조사 (명사나 대명사 앞에서 관계를 나타냄)
7. **conjunction** - 접속사 (단어, 구, 절을 연결)
8. **interjection** - 감탄사 (감정이나 의사를 나타내는 감탄 표현)
9. **determiner** - 한정사 (명사 앞에서 범위나 수량을 한정)
10. **other** - 기타 (위에 속하지 않는 특수한 경우)

## 🏗️ 컬렉션 구조 및 역할

### 1. Concepts 컬렉션 (개념/단어)
**목적:** 단어, 구문, 개념 학습을 위한 기본 데이터
**특징:** 
- 5개 언어별 상세 정보 (발음, 정의, 품사, 유의어, 반의어, 어족, 복합어, 연어)
- 대표 예문으로 기본 의미 표현
- 이모지와 색상으로 시각적 구분

### 2. Examples 컬렉션 (예문/독해)
**목적:** 실제 사용 예문과 독해 학습
**특징:**
- 실제 상황에서 사용하는 자연스러운 예문
- 각 언어별 핵심 단어 표시
- 실용적이고 맥락이 있는 문장

### 3. Grammar 컬렉션 (문법 패턴)
**목적:** 문법 패턴과 구조 학습
**특징:**
- 언어별 문법 구조와 패턴 설명
- 교육적 목적의 체계적인 예문
- 문법 규칙을 명확히 보여주는 예시

## ⚠️ CSV 작성 주의사항

### 필수 규칙
1. **헤더 순서 정확성**: 위 헤더 순서를 정확히 준수
2. **필드 수 일치**: Concepts(58), Examples(16), Grammar(31)
3. **쉼표 포함 필드**: 반드시 `"쌍따옴표"`로 감싸기
4. **필수 필드**: `domain`, `korean_word`, `english_word`, `korean_example`, `english_example`
5. **이모지**: 유니코드 직접 입력 (예: 🏠, 📱, 🎵)
6. **색상**: 헥스 코드 (예: #4CAF50, #FF6B6B)
7. **빈 필드**: '없음' 대신 빈 칸("")으로 처리

### 쉼표 처리 예시
```csv
korean_example,english_example
"안녕하세요, 반갑습니다","Hello, nice to meet you"
"Por favor, dame kimchi jjigae","Please give me kimchi stew"
```

## 📝 예문 차별화 가이드 (중요!)

### 컬렉션별 예문 특성
1. **Concepts**: 단어/개념의 **기본 의미**를 보여주는 간단하고 명확한 예문
2. **Examples**: **실제 상황**에서 사용하는 실용적이고 자연스러운 예문
3. **Grammar**: **문법 패턴**을 설명하는 교육적 목적의 예문

### 올바른 예문 형태 (완전한 문장 필수)
- ✅ "I give you a warm greeting." (주어+동사+목적어)
- ✅ "Good morning, how are you?" (감탄사+의문문)
- ✅ "The weather is nice today." (주어+동사+보어)
- ✅ "Run quickly!" (명령문)
- ✅ "What a beautiful day!" (감탄문)

### 잘못된 예문 형태
- ❌ "Warm greeting" (불완전한 구문)
- ❌ "Apple juice" (명사구만)
- ❌ "Good morning" (인사말이지만 문장 구조 없음)

### 예문 차별화 실제 예시
**concept_id: daily_hello_greeting**
- **Concepts**: "안녕하세요? 잘 지내셨어요?" (기본 인사 의미)
- **Examples**: "오늘 아침에 이웃에게 안녕하세요라고 인사했어요" (실제 상황)
- **Grammar**: "안녕하세요는 정중한 인사 표현입니다" (문법 설명)

## 🎨 5개 언어 표준

### 언어 순서 (고정)
1. **Korean** (한국어)
2. **English** (영어) 
3. **Japanese** (일본어)
4. **Chinese** (중국어)
5. **Spanish** (스페인어)

### 발음 표기법 (브라우저 호환)
- **Korean**: `a-chim`, `an-nyeong` (하이픈 구분 로마자)
- **English**: `/ˈmɔːrnɪŋ/`, `/weɪk/` (IPA 표기, 슬래시로 감싸기)
- **Chinese**: `zao chen`, `ni hao` (pinyin, 성조 없음, 공백 구분)
- **Japanese**: `asa`, `konnichiwa` (헵번식 로마자)
- **Spanish**: `ma-nya-na`, `o-la` (하이픈 구분 로마자)

### UTF-8 인코딩 필수 준수사항
1. **인코딩**: 반드시 UTF-8 BOM 없음(UTF-8 without BOM) 형식으로 저장
2. **확인 방법**: 파일 저장 후 한중일 문자 정상 표시 확인
3. **문제 해결**: 문자 깨짐 발견 시 UTF-8로 재저장 후 내용 복구

## 🔄 데이터 생성 체크리스트

### Concepts 컬렉션 체크리스트
- [ ] concept_id 형식 정확성 ({domain}_{word}_{meaning})
- [ ] 5개 언어 단어 정보 모두 입력
- [ ] 각 언어별 9개 세부 필드 입력 (발음, 정의, 품사, 유의어, 반의어, 어족, 복합어, 연어)
- [ ] 5개 언어 대표 예문 모두 입력
- [ ] concept_id 일관성 (동일 concept_id = 동일 단어)
- [ ] 중복 검증 (concept_id + 단어+의미 조합)
- [ ] 예문 차별화 (Examples, Grammar와 다른 예문)
- [ ] 도메인, 카테고리, 난이도, 이모지, 색상 설정
- [ ] 상황과 목적 배열 형태로 입력
- [ ] CSV 쉼표 포함 필드 따옴표 처리

### Examples 컬렉션 체크리스트
- [ ] concept_id 형식 정확성
- [ ] 5개 언어 예문 모두 입력 (완전한 문장)
- [ ] 각 언어별 핵심 단어 입력
- [ ] concept_id 일관성 (concepts, grammar와 같은 단어)
- [ ] 중복 검증 (concept_id + 예문)
- [ ] 예문 차별화 (Concepts, Grammar와 다른 예문)
- [ ] 실제 상황에서 사용 가능한 자연스러운 표현
- [ ] 도메인, 카테고리, 난이도 설정
- [ ] 상황과 목적 설정

### Grammar 컬렉션 체크리스트
- [ ] concept_id 형식 정확성
- [ ] 5개 언어 문법 정보 모두 입력 (제목, 구조, 설명)
- [ ] 5개 언어 예문 모두 입력 (완전한 문장)
- [ ] 각 언어별 핵심 단어 입력
- [ ] concept_id 일관성 (concepts, examples와 같은 단어)
- [ ] 중복 검증 (concept_id + 문법 패턴)
- [ ] 예문 차별화 (Concepts, Examples와 다른 예문)
- [ ] 실제 사용 가능한 문법 패턴
- [ ] 도메인, 카테고리, 난이도 설정
- [ ] 상황과 목적 설정

### 품질 관리 요구사항
- ✅ **필수 필드**: 모든 필수 필드 작성 완료
- ✅ **언어 일관성**: 5개 언어 간 의미와 맥락 일치
- ✅ **난이도 적정성**: 설정한 난이도에 맞는 어휘와 문법 사용
- ✅ **카테고리 적합성**: 선택한 카테고리와 내용 일치
- ✅ **예문 자연성**: 실제 상황에서 사용 가능한 자연스러운 표현
- ✅ **Purpose/Domain/Situation 값 검증**: 정의된 값들만 사용
- ✅ **CSV 파싱 안정성**: 쉼표 포함 필드 쌍따옴표 처리
- ✅ **문자 인코딩**: UTF-8 인코딩으로 한글 깨짐 방지

## 🔍 중복 방지 가이드

### 중복 검사 기준
1. **concept_id 중복 검사**: 고유 식별자 ({domain}_{word}_{meaning})
2. **단어+의미 조합 중복 검사**: 같은 단어가 같은 의미로 중복 사용 방지
   - ✅ **허용**: `food_apple_fruit` + `technology_apple_company` (다의어)
   - ❌ **차단**: `food_apple_fruit` + `nature_apple_fruit` (중복)
3. **예문 중복 검사**: 동일한 예문이 이미 존재하는지 확인

### 중복 방지 전략
1. **concept_id 체계 활용**: 동일한 개념은 반드시 같은 concept_id 사용
2. **도메인별 분류**: 같은 도메인 내에서 중복 검사
3. **카테고리별 세분화**: 세부 카테고리로 정확한 분류
4. **다국어 검증**: 5개 언어 모두 확인하여 완전한 중복 방지

---

## 📚 참고 정보

### 현재 등록된 concept 목록
`data_tracking_log.json` 파일에서 확인 가능

### 도메인별 상세 카테고리 전체 목록
- **daily**: household, family, routine, clothing, furniture, shopping, transportation, communication, personal_care, leisure, relationships, emotions, time, weather_talk, other
- **food**: fruit, vegetable, meat, drink, snack, grain, seafood, dairy, cooking, dining, restaurant, kitchen_utensils, spices, dessert, other
- **travel**: transportation, accommodation, tourist_attraction, luggage, direction, booking, currency, culture, emergency, documents, sightseeing, local_food, souvenir, other
- **business**: meeting, finance, marketing, office, project, negotiation, presentation, teamwork, leadership, networking, sales, contract, startup, other
- **education**: teaching, learning, classroom, curriculum, assessment, pedagogy, skill_development, online_learning, training, certification, educational_technology, student_life, graduation, examination, university, library, other
- **nature**: animal, plant, weather, geography, environment, ecosystem, conservation, climate, natural_disaster, landscape, marine_life, forest, mountain, other
- **technology**: computer, software, internet, mobile, ai, programming, cybersecurity, database, robotics, blockchain, cloud, social_media, gaming, innovation, it_hardware, development, other
- **health**: exercise, medicine, nutrition, mental_health, hospital, fitness, wellness, therapy, prevention, symptoms, treatment, pharmacy, rehabilitation, medical_equipment, other
- **sports**: football, basketball, swimming, running, equipment, olympics, tennis, baseball, golf, martial_arts, team_sports, individual_sports, coaching, competition, other
- **entertainment**: movie, music, game, book, art, theater, concert, festival, celebrity, tv_show, comedy, drama, animation, photography, other
- **culture**: tradition, customs, language, religion, festival, heritage, ceremony, ritual, folklore, mythology, arts_crafts, etiquette, national_identity, other
- **other**: hobbies, finance_personal, legal, government, politics, media, community, volunteering, charity, social_issues, philosophy_life, spirituality, creativity, innovation, science, literature, history, mathematics, research, philosophy, psychology, sociology, linguistics, thesis, other

---

이 요약본으로 **독립적이고 완전한 데이터 생성**이 가능하며, 모든 핵심 규칙, 표준, 주의사항을 포함하고 있습니다.
