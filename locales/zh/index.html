<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LikeVoca - 多语言学习平台</title>
    
    <!-- 기본 메타 태그 -->
    <meta name="description" content="通过系统化课程和直观的学习系统，让语言学习更有效。" />
    <meta name="keywords" content="语言学习, 多语言, 词汇本, AI 词汇本, 英语, 日语, 中文, 韩语" />
    
    <!-- Open Graph / 소셜 미디어 메타 태그 -->
    <meta property="og:title" content="LikeVoca - 多语言学习平台" />
    <meta property="og:description" content="通过系统化课程和直观的学习系统，让语言学习更有效。" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://likevoca.com" />
    <meta property="og:locale" content="zh" />
    
    <!-- 표준 링크 -->
    <link rel="canonical" href="https://likevoca.com" />
    
    <!-- 대체 언어 링크 (초기값) -->
    <link rel="alternate" hreflang="ko" href="https://likevoca.com/ko" />
    <link rel="alternate" hreflang="en" href="https://likevoca.com/en" />
    <link rel="alternate" hreflang="ja" href="https://likevoca.com/ja" />
    <link rel="alternate" hreflang="zh" href="https://likevoca.com/zh" />
    <link rel="alternate" hreflang="x-default" href="https://likevoca.com/en" />

    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <link rel="stylesheet" href="../../css/style.css" />
  </head>
  <body class="bg-gray-100">
    <div id="navbar-container"></div>

    <main
      class="container mx-auto max-w-7xl px-4 md:px-6 lg:px-8 py-8 md:py-12 lg:py-16"
    >
      <div
        class="flex flex-col lg:flex-row items-center justify-between mb-8 md:mb-16 mt-4 md:mt-8"
      >
        <div class="lg:w-1/2 lg:pr-12 text-center lg:text-left">
          <h1
            class="text-3xl md:text-4xl lg:text-6xl font-bold text-gray-800 mb-4 md:mb-6"
          >
            <span>学习语言</span><br />
            <span class="text-[#4B63AC]">更有效</span>
          </h1>
          <p
            class="text-base md:text-lg text-gray-600 mb-6 md:mb-8 px-4 lg:px-0"
          >
            通过系统化课程和直观的学习系统，让语言学习更有效。
          </p>
          <button
            id="get-started-btn"
            class="w-full md:w-auto bg-[#4B63AC] text-white px-6 md:px-8 py-3 rounded-lg hover:bg-[#3A4F8B] transition duration-300 text-base md:text-lg font-semibold"
          >
            免费开始
          </button>
        </div>
        <div class="lg:w-1/2 mt-8 lg:mt-0 w-full px-4 lg:px-0">
          <div class="h-64 md:h-80 lg:h-96 rounded-xl overflow-hidden">
            <img
              src="../../assets/hero.jpeg"
              class="w-full h-full object-cover rounded-xl"
              alt="Hero Image"
            />
          </div>
        </div>
      </div>

      <div
        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 lg:gap-8 md:mb-16"
      >
        <!-- 1. 나만의 단어장 -->
        <div
          class="bg-[#E6F0FF] rounded-xl p-4 md:p-6 shadow-lg hover:shadow-xl transition duration-300"
        >
          <div class="h-auto md:h-48 flex flex-col space-y-4">
            <div>
              <h3 class="text-2xl font-bold text-[#4B63AC] mb-4">
                我的词汇本
              </h3>
              <p class="text-gray-700 text-sm lg:text-lg">
                创建您的个人词汇收藏，跟踪学习进度。
              </p>
            </div>
            <div class="mt-auto pb-2">
              <a href="my-word-list.html" class="block">
                <button
                  class="w-full bg-[#4B63AC] text-white px-6 py-2 rounded-lg hover:bg-[#3A4F8B] transition duration-300"
                >
                  开始
                </button>
              </a>
            </div>
          </div>
        </div>
        <!-- 2. 단어장 -->
        <div
          class="bg-[#FFF3E0] rounded-xl p-4 md:p-6 shadow-lg hover:shadow-xl transition duration-300"
        >
          <div class="h-auto md:h-48 flex flex-col space-y-4">
            <div>
              <h3 class="text-2xl font-bold text-[#E65100] mb-4">词汇本</h3>
              <p class="text-gray-700 text-sm lg:text-lg">
                使用全面的词汇集合构建您的多语言词汇量。
              </p>
            </div>
            <div class="mt-auto pb-2">
              <a href="vocabulary.html" class="block">
                <button
                  class="w-full bg-[#E65100] text-white px-6 py-2 rounded-lg hover:bg-[#BF360C] transition duration-300"
                >
                  开始
                </button>
              </a>
            </div>
          </div>
        </div>
        <!-- 3. AI 단어장 -->
        <div
          class="bg-[#E8F5E9] rounded-xl p-4 md:p-6 shadow-lg hover:shadow-xl transition duration-300"
        >
          <div class="h-auto md:h-48 flex flex-col space-y-4">
            <div>
              <h3 class="text-2xl font-bold text-[#2E7D32] mb-4">
                AI 词汇本
              </h3>
              <p class="text-gray-700 text-sm lg:text-lg">
                获得由 AI 技术支持的个人化词汇推荐。
              </p>
            </div>
            <div class="mt-auto pb-2">
              <a href="ai-vocabulary.html" class="block">
                <button
                  class="w-full bg-[#2E7D32] text-white px-6 py-2 rounded-lg hover:bg-[#1B5E20] transition duration-300"
                >
                  开始
                </button>
              </a>
            </div>
          </div>
        </div>
        <!-- 4. 언어 학습 -->
        <div
          class="bg-[#E0F7FA] rounded-xl p-4 md:p-6 pb-8 shadow-lg hover:shadow-xl transition duration-300"
        >
          <div class="h-auto md:h-56 flex flex-col justify-between space-y-4">
            <div>
              <h3 class="text-2xl font-bold text-[#0097A7] mb-4">语言学习</h3>
              <p class="text-gray-700 text-sm lg:text-lg">通过互动课程练习和提高您的语言技能。</p>
            </div>
            <div>
              <a href="learning.html" class="block">
                <button
                  class="w-full bg-[#0097A7] text-white px-6 py-2 rounded-lg hover:bg-[#00838F] transition duration-300"
                >
                  开始
                </button>
              </a>
            </div>
          </div>
        </div>
        <!-- 5. 언어 퀴즈 -->
        <div
          class="bg-[#FFF8E1] rounded-xl p-4 md:p-6 shadow-lg hover:shadow-xl transition duration-300"
        >
          <div class="h-auto md:h-48 flex flex-col space-y-4">
            <div>
              <h3 class="text-2xl font-bold text-[#F57C00] mb-4">语言测验</h3>
              <p class="text-gray-700 text-sm lg:text-lg">
                通过有趣的测验和挑战来测试您的知识。
              </p>
            </div>
            <div class="mt-auto pb-2">
              <a href="quiz.html" class="block">
                <button
                  class="w-full bg-[#F57C00] text-white px-6 py-2 rounded-lg hover:bg-[#E65100] transition duration-300"
                >
                  开始
                </button>
              </a>
            </div>
          </div>
        </div>
        <!-- 6. 언어 게임 -->
        <div
          class="bg-[#F3E5F5] rounded-xl p-4 md:p-6 pb-8 shadow-lg hover:shadow-xl transition duration-300"
        >
          <div class="h-auto md:h-56 flex flex-col justify-between space-y-4">
            <div>
              <h3 class="text-2xl font-bold text-[#9C27B0] mb-4">语言游戏</h3>
              <p class="text-gray-700 text-sm lg:text-lg">
                通过为语言学习者设计的有趣互动游戏来学习。
              </p>
            </div>
            <div>
              <a href="games.html" class="block">
                <button
                  class="w-full bg-[#9C27B0] text-white px-6 py-2 rounded-lg hover:bg-[#7B1FA2] transition duration-300"
                >
                  开始
                </button>
              </a>
            </div>
          </div>
        </div>
        <!-- 7. 문의하기 -->
        <div
          class="bg-[#E3F2FD] rounded-xl p-4 md:p-6 shadow-lg hover:shadow-xl transition duration-300"
        >
          <div class="h-auto md:h-48 flex flex-col space-y-4">
            <div>
              <h3 class="text-2xl font-bold text-[#1565CD] mb-4">联系我们</h3>
              <p class="text-gray-700 text-sm lg:text-lg">
                在您的语言学习之旅中获得帮助和支持。
              </p>
            </div>
            <div class="mt-auto pb-2">
              <a href="inquiry.html" class="block">
                <button
                  class="w-full bg-[#1565CD] text-white px-6 py-2 rounded-lg hover:bg-[#0D47A1] transition duration-300"
                >
                  联系我们
                </button>
              </a>
            </div>
          </div>
        </div>
      </div>
    </main>
    
    <!-- Navbar 스크립트 -->
    <script src="../../components/js/navbar.js"></script>
    
    <!-- Firebase 초기화 스크립트 -->
    <script type="module" src="../../js/firebase/firebase-init.js"></script>
    
    <script type="module">
      import { applyLanguage, updateMetadata, getActiveLanguage } from '../../utils/language-utils.js';
      
      document.addEventListener('DOMContentLoaded', async () => {
        try {
          // 页面加载时清理重定向标志
          if (sessionStorage.getItem("redirecting")) {
            sessionStorage.removeItem("redirecting");
          }
          
          // 导航栏加载 (使用从language-utils.js导入的函数)
          if (typeof window.loadNavbar === 'function') {
            await window.loadNavbar();
          } else {
            console.warn("找不到window.loadNavbar函数，尝试直接加载...");
            
            // 直接加载导航栏
            try {
              const response = await fetch('navbar.html');
              const navbarHTML = await response.text();
              const navbarContainer = document.getElementById('navbar-container');
              if (navbarContainer) {
                navbarContainer.innerHTML = navbarHTML;
                
                // navbar.js 脚本已经加载，只需初始化
                if (typeof window.initializeNavbar === 'function') {
                  await window.initializeNavbar('zh');
                } else {
                  console.warn("找不到initializeNavbar函数");
                }
              }
            } catch (error) {
              console.error("导航栏直接加载失败:", error);
            }
          }
          
          // 翻译即时应用
          await applyLanguage();
          
          const currentLang = await getActiveLanguage();
          
          await updateMetadata('home');
          
          // 硬编码页面 - 翻译测试代码已移除
          
          // 免费开始按钮事件处理
          const getStartedBtn = document.getElementById('get-started-btn');
          if (getStartedBtn) {
            getStartedBtn.addEventListener('click', async () => {
              try {
                // 检查当前语言
                const currentLang = await getActiveLanguage();
                
                // Firebase 认证状态检查
                const { onAuthStateChanged } = await import('../../js/firebase/firebase-init.js');
                const { auth } = await import('../../js/firebase/firebase-init.js');
                
                onAuthStateChanged(auth, (user) => {
                  if (user) {
                    // 已登录用户 - 进入我的单词本
                    window.location.href = 'my-word-list.html';
                  } else {
                    // 已注销用户 - 进入当前语言的注册页面
                    window.location.href = 'signup.html';
                  }
                });
              } catch (error) {
                console.error('认证状态检查中错误:', error);
                // 错误发生时进入当前语言的注册页面
                const currentLang = localStorage.getItem('userLanguage') || 'zh';
                window.location.href = 'signup.html';
              }
            });
          }
          
        } catch (error) {
          console.error('语言设置应用中错误:', error);
        }
      });
    </script>
  </body>
</html>
