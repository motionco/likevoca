<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì»¤ë®¤ë‹ˆí‹° - LikeVoca</title>
    
    <!-- ê¸°ë³¸ ë©”íƒ€ íƒœê·¸ -->
    <meta name="description" content="LikeVoca ì»¤ë®¤ë‹ˆí‹° - í•™ìŠµ ê°€ì´ë“œ, FAQ, ë§¤ë‰´ì–¼ ë° ê³µì§€ì‚¬í•­ì„ í™•ì¸í•˜ì„¸ìš”. ì–¸ì–´í•™ìŠµ ê´€ë ¨ ìµœì‹  ì •ë³´ì™€ íŒì„ ê³µìœ í•©ë‹ˆë‹¤." />
    <meta name="keywords" content="LikeVoca ì»¤ë®¤ë‹ˆí‹°, í•™ìŠµ ê°€ì´ë“œ, FAQ, ë§¤ë‰´ì–¼, ê³µì§€ì‚¬í•­, ì–¸ì–´í•™ìŠµ íŒ" />
    
    <!-- Open Graph / ì†Œì…œ ë¯¸ë””ì–´ ë©”íƒ€ íƒœê·¸ -->
    <meta property="og:title" content="ì»¤ë®¤ë‹ˆí‹° - LikeVoca" />
    <meta property="og:description" content="LikeVoca ì»¤ë®¤ë‹ˆí‹°ì—ì„œ í•™ìŠµ ê°€ì´ë“œ, FAQ, ë§¤ë‰´ì–¼ì„ í™•ì¸í•˜ê³  ì–¸ì–´í•™ìŠµ íŒì„ ê³µìœ í•˜ì„¸ìš”." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://likevoca.com/ko/community" />
    <meta property="og:locale" content="ko" />
    
    <!-- í‘œì¤€ ë§í¬ -->
    <link rel="canonical" href="https://likevoca.com/ko/community" />
    
    <!-- ëŒ€ì²´ ì–¸ì–´ ë§í¬ -->
    <link rel="alternate" hreflang="ko" href="https://likevoca.com/ko/community" />
    <link rel="alternate" hreflang="en" href="https://likevoca.com/en/community" />
    <link rel="alternate" hreflang="ja" href="https://likevoca.com/ja/community" />
    <link rel="alternate" hreflang="zh" href="https://likevoca.com/zh/community" />
    <link rel="alternate" hreflang="es" href="https://likevoca.com/es/community" />
    <link rel="alternate" hreflang="x-default" href="https://likevoca.com/en/community" />

    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <link rel="stylesheet" href="../../css/style.css" />
</head>
<body class="bg-gray-50">
    <div id="navbar-container"></div>

    <main class="container mx-auto max-w-7xl px-4 md:px-6 lg:px-8 py-8 md:py-12">
        <!-- í—¤ë” ì„¹ì…˜ -->
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-6">
                LikeVoca <span class="text-[#4B63AC]">ì»¤ë®¤ë‹ˆí‹°</span>
            </h1>
            <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">
                ì–¸ì–´í•™ìŠµì— ë„ì›€ì´ ë˜ëŠ” ê°€ì´ë“œ, íŒ, ê³µì§€ì‚¬í•­ì„ í™•ì¸í•˜ì„¸ìš”
            </p>
        </header>

        <div class="flex flex-col lg:flex-row gap-8">
            <!-- ì‚¬ì´ë“œë°” -->
            <aside class="lg:w-1/4">
                <div class="bg-white rounded-xl shadow-lg p-6 sticky top-8">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">
                        <i class="fas fa-filter mr-2 text-[#4B63AC]"></i>
                        í•„í„°
                    </h3>
                    
                    <!-- ì¹´í…Œê³ ë¦¬ í•„í„° -->
                    <div class="mb-6">
                        <h4 class="font-medium text-gray-700 mb-3">ì¹´í…Œê³ ë¦¬</h4>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="checkbox" name="category" value="all" checked class="rounded text-[#4B63AC]">
                                <span class="ml-2 text-sm">ì „ì²´</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" name="category" value="faq" class="rounded text-[#4B63AC]">
                                <span class="ml-2 text-sm">ìì£¼ ë¬»ëŠ” ì§ˆë¬¸</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" name="category" value="manual" class="rounded text-[#4B63AC]">
                                <span class="ml-2 text-sm">ì‚¬ìš©ì ë§¤ë‰´ì–¼</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" name="category" value="guide" class="rounded text-[#4B63AC]">
                                <span class="ml-2 text-sm">í•™ìŠµ ê°€ì´ë“œ</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" name="category" value="notices" class="rounded text-[#4B63AC]">
                                <span class="ml-2 text-sm">ê³µì§€ì‚¬í•­</span>
                            </label>
                        </div>
                    </div>

                    <!-- ìš°ì„ ìˆœìœ„ í•„í„° -->
                    <div class="mb-6">
                        <h4 class="font-medium text-gray-700 mb-3">ìš°ì„ ìˆœìœ„</h4>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="checkbox" name="priority" value="all" checked class="rounded text-[#4B63AC]">
                                <span class="ml-2 text-sm">ì „ì²´</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" name="priority" value="urgent" class="rounded text-[#4B63AC]">
                                <span class="ml-2 text-sm">ê¸´ê¸‰</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" name="priority" value="high" class="rounded text-[#4B63AC]">
                                <span class="ml-2 text-sm">ë†’ìŒ</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" name="priority" value="normal" class="rounded text-[#4B63AC]">
                                <span class="ml-2 text-sm">ë³´í†µ</span>
                            </label>
                        </div>
                    </div>

                    <!-- ì •ë ¬ ì˜µì…˜ -->
                    <div>
                        <h4 class="font-medium text-gray-700 mb-3">ì •ë ¬</h4>
                        <select id="sortBy" class="w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#4B63AC]">
                            <option value="newest">ìµœì‹ ìˆœ</option>
                            <option value="oldest">ì˜¤ë˜ëœìˆœ</option>
                            <option value="priority">ìš°ì„ ìˆœìœ„ìˆœ</option>
                            <option value="title">ì œëª©ìˆœ</option>
                        </select>
                    </div>
                </div>
            </aside>

            <!-- ë©”ì¸ ì½˜í…ì¸  -->
            <div class="lg:w-3/4">
                <!-- ê²€ìƒ‰ë°” -->
                <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                    <div class="flex flex-col md:flex-row gap-4">
                        <div class="flex-1">
                            <div class="relative">
                                <input 
                                    type="text" 
                                    id="searchInput" 
                                    placeholder="ê¶ê¸ˆí•œ ë‚´ìš©ì„ ê²€ìƒ‰í•´ë³´ì„¸ìš”..." 
                                    class="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4B63AC] focus:border-transparent"
                                />
                                <i class="fas fa-search absolute left-4 top-4 text-gray-400"></i>
                            </div>
                        </div>
                        <button id="searchBtn" class="bg-[#4B63AC] text-white px-8 py-3 rounded-lg hover:bg-[#3A4F8B] transition duration-200 flex items-center justify-center">
                            <i class="fas fa-search mr-2"></i>
                            ê²€ìƒ‰
                        </button>
                    </div>
                </div>

                <!-- ì½˜í…ì¸  ëª©ë¡ -->
                <div id="contentList" class="space-y-6">
                    <!-- ë¡œë”© ìƒíƒœ -->
                    <div id="loading" class="text-center py-12">
                        <i class="fas fa-spinner fa-spin text-3xl text-gray-400 mb-4"></i>
                        <p class="text-gray-600">ì½˜í…ì¸ ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
                    </div>
                </div>

                <!-- ë¹ˆ ìƒíƒœ -->
                <div id="emptyState" class="text-center py-12 hidden">
                    <i class="fas fa-search text-6xl text-gray-300 mb-6"></i>
                    <h3 class="text-xl font-semibold text-gray-700 mb-2">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</h3>
                    <p class="text-gray-500 mb-6">ë‹¤ë¥¸ ê²€ìƒ‰ì–´ë‚˜ í•„í„°ë¥¼ ì‚¬ìš©í•´ë³´ì„¸ìš”.</p>
                    <button onclick="clearFilters()" class="bg-[#4B63AC] text-white px-6 py-3 rounded-lg hover:bg-[#3A4F8B] transition duration-200">
                        í•„í„° ì´ˆê¸°í™”
                    </button>
                </div>

                <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
                <div id="pagination" class="flex justify-center mt-8">
                    <!-- í˜ì´ì§€ë„¤ì´ì…˜ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <div id="footer-container"></div>

    <!-- ìŠ¤í¬ë¦½íŠ¸ -->
    <script src="../../components/js/navbar.js"></script>
    <script src="../../components/js/footer.js"></script>
    
    <script type="module">
        import { applyLanguage, updateMetadata, getActiveLanguage } from '../../utils/language-utils.js';
        import { ContentIntegration } from '../../js/content-integration.js';
        import { initializePageSync, addManualRefreshButton } from '../../js/real-time-content-sync.js';
        
        let contentManager;
        let currentPage = 1;
        const itemsPerPage = 10;
        
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                // ë„¤ë¹„ê²Œì´ì…˜ë°” ë¡œë“œ
                if (typeof window.loadNavbar === 'function') {
                    await window.loadNavbar();
                }
                
                // Footer ë¡œë“œ
                if (typeof window.loadFooter === 'function') {
                    await window.loadFooter();
                }
                
                // ì–¸ì–´ ì ìš©
                await applyLanguage();
                await updateMetadata('community');
                
                // ì½˜í…ì¸  ê´€ë¦¬ì ì´ˆê¸°í™”
                contentManager = new ContentIntegration();
                await contentManager.loadContentData();
                
                // localStorageì— ìƒ˜í”Œ ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ ë°ì´í„° ìƒì„±
                if (!contentManager.contentData || contentManager.contentData.length === 0) {
                    console.log('ğŸ“ ìƒ˜í”Œ ì½˜í…ì¸  ë°ì´í„°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤...');
                    const sampleData = generateCommunityContent();
                    localStorage.setItem('multilingual_content', JSON.stringify(sampleData));
                    contentManager.contentData = sampleData;
                    console.log(`âœ… ìƒ˜í”Œ ì½˜í…ì¸  ${sampleData.length}ê°œ ìƒì„± ì™„ë£Œ`);
                }
                
                // ì‹¤ì‹œê°„ ë™ê¸°í™” ì‹œì‘
                initializePageSync('community');
                
                // ìˆ˜ë™ ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ ì¶”ê°€
                addManualRefreshButton();
                
                // ì´ˆê¸° ì½˜í…ì¸  ë¡œë“œ
                await loadContent();
                
                // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
                setupEventListeners();
                
            } catch (error) {
                console.error('ì»¤ë®¤ë‹ˆí‹° í˜ì´ì§€ ì´ˆê¸°í™” ì¤‘ ì˜¤ë¥˜:', error);
                showError('í˜ì´ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        });

        // ì½˜í…ì¸  ë¡œë“œ
        async function loadContent() {
            const loading = document.getElementById('loading');
            const contentList = document.getElementById('contentList');
            const emptyState = document.getElementById('emptyState');
            
            loading.style.display = 'block';
            emptyState.classList.add('hidden');
            
            try {
                console.log('ğŸ” ì½˜í…ì¸  ë¡œë“œ ì‹œì‘, contentManager.contentData:', contentManager?.contentData?.length || 0);
                const filters = getActiveFilters();
                const sortBy = document.getElementById('sortBy').value;
                const searchTerm = document.getElementById('searchInput').value.toLowerCase();
                
                // contentManager.contentDataê°€ ë¹„ì–´ìˆìœ¼ë©´ ìƒˆë¡œ ë¡œë“œ ì‹œë„
                if (!contentManager.contentData || contentManager.contentData.length === 0) {
                    console.log('âš ï¸ ì½˜í…ì¸  ë°ì´í„°ê°€ ë¹„ì–´ìˆìŒ, ë‹¤ì‹œ ë¡œë“œ ì‹œë„...');
                    await contentManager.loadContentData();
                    
                    if (!contentManager.contentData || contentManager.contentData.length === 0) {
                        console.log('ğŸ“„ ë°ì´í„°ê°€ ì—¬ì „íˆ ë¹„ì–´ìˆìŒ, ìƒ˜í”Œ ë°ì´í„° ìƒì„±...');
                        const sampleData = generateCommunityContent();
                        localStorage.setItem('multilingual_content', JSON.stringify(sampleData));
                        contentManager.contentData = sampleData;
                    }
                }
                
                let filteredContent = contentManager.contentData;
                
                // ì¹´í…Œê³ ë¦¬ í•„í„° ì ìš©
                if (!filters.categories.includes('all')) {
                    filteredContent = filteredContent.filter(item => 
                        filters.categories.includes(item.type)
                    );
                }
                
                // ìš°ì„ ìˆœìœ„ í•„í„° ì ìš©
                if (!filters.priorities.includes('all')) {
                    filteredContent = filteredContent.filter(item => 
                        filters.priorities.includes(item.priority)
                    );
                }
                
                // ê²€ìƒ‰ì–´ í•„í„° ì ìš©
                if (searchTerm) {
                    filteredContent = filteredContent.filter(item => {
                        const version = item.versions[contentManager.language];
                        if (!version || !version.published) return false;
                        
                        return version.title.toLowerCase().includes(searchTerm) ||
                               version.content.toLowerCase().includes(searchTerm);
                    });
                }
                
                // ì–¸ì–´ ë° ë°œí–‰ ìƒíƒœ í•„í„° ì ìš©
                filteredContent = filteredContent.filter(item => {
                    const version = item.versions[contentManager.language];
                    return version && version.published;
                });
                
                // ì •ë ¬ ì ìš©
                filteredContent = sortContent(filteredContent, sortBy);
                
                // í˜ì´ì§€ë„¤ì´ì…˜ ì ìš©
                const totalPages = Math.ceil(filteredContent.length / itemsPerPage);
                const startIndex = (currentPage - 1) * itemsPerPage;
                const endIndex = startIndex + itemsPerPage;
                const pageContent = filteredContent.slice(startIndex, endIndex);
                
                // ì½˜í…ì¸  ë Œë”ë§
                if (pageContent.length === 0) {
                    contentList.innerHTML = '';
                    emptyState.classList.remove('hidden');
                } else {
                    renderContent(pageContent);
                    renderPagination(totalPages);
                }
                
            } catch (error) {
                console.error('ì½˜í…ì¸  ë¡œë“œ ì‹¤íŒ¨:', error);
                showError('ì½˜í…ì¸ ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
            } finally {
                loading.style.display = 'none';
            }
        }

        // í™œì„± í•„í„° ê°€ì ¸ì˜¤ê¸°
        function getActiveFilters() {
            const categories = Array.from(document.querySelectorAll('input[name="category"]:checked'))
                .map(cb => cb.value);
            const priorities = Array.from(document.querySelectorAll('input[name="priority"]:checked'))
                .map(cb => cb.value);
            
            return { categories, priorities };
        }

        // ì½˜í…ì¸  ì •ë ¬
        function sortContent(content, sortBy) {
            switch (sortBy) {
                case 'newest':
                    return content.sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt));
                case 'oldest':
                    return content.sort((a, b) => new Date(a.updatedAt) - new Date(b.updatedAt));
                case 'priority':
                    const priorityOrder = { urgent: 3, high: 2, normal: 1 };
                    return content.sort((a, b) => {
                        const aPriority = priorityOrder[a.priority] || 1;
                        const bPriority = priorityOrder[b.priority] || 1;
                        if (aPriority !== bPriority) return bPriority - aPriority;
                        return new Date(b.updatedAt) - new Date(a.updatedAt);
                    });
                case 'title':
                    return content.sort((a, b) => {
                        const aTitle = a.versions[contentManager.language]?.title || '';
                        const bTitle = b.versions[contentManager.language]?.title || '';
                        return aTitle.localeCompare(bTitle);
                    });
                default:
                    return content;
            }
        }

        // ì½˜í…ì¸  ë Œë”ë§
        function renderContent(content) {
            const contentList = document.getElementById('contentList');
            
            const contentHTML = content.map(item => {
                const version = item.versions[contentManager.language];
                if (!version) return '';
                
                const categoryIcons = {
                    faq: 'fa-question-circle',
                    manual: 'fa-book',
                    guide: 'fa-compass',
                    notices: 'fa-bullhorn'
                };
                
                const categoryNames = {
                    faq: 'ìì£¼ ë¬»ëŠ” ì§ˆë¬¸',
                    manual: 'ì‚¬ìš©ì ë§¤ë‰´ì–¼',
                    guide: 'í•™ìŠµ ê°€ì´ë“œ',
                    notices: 'ê³µì§€ì‚¬í•­'
                };
                
                const priorityBadges = {
                    urgent: 'bg-red-100 text-red-800',
                    high: 'bg-orange-100 text-orange-800',
                    normal: 'bg-blue-100 text-blue-800'
                };
                
                const priorityNames = {
                    urgent: 'ê¸´ê¸‰',
                    high: 'ë†’ìŒ',
                    normal: 'ë³´í†µ'
                };
                
                const safeTitle = version.title.replace(/'/g, '&#39;').replace(/"/g, '&quot;');
                
                return `
                    <article class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition duration-300" onclick="openContentModal('${item.id}')">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-12 h-12 rounded-lg bg-[#4B63AC] bg-opacity-10 flex items-center justify-center">
                                    <i class="fas ${categoryIcons[item.type] || 'fa-file-alt'} text-[#4B63AC] text-lg"></i>
                                </div>
                                <div>
                                    <h3 class="text-xl font-semibold text-gray-900 hover:text-[#4B63AC] transition duration-200 cursor-pointer">
                                        ${safeTitle}
                                    </h3>
                                    <div class="flex items-center space-x-3 mt-1">
                                        <span class="text-sm text-gray-500">${categoryNames[item.type] || item.type}</span>
                                        <span class="px-2 py-1 rounded-full text-xs font-medium ${priorityBadges[item.priority] || priorityBadges.normal}">
                                            ${priorityNames[item.priority] || item.priority}
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="text-sm text-gray-400">
                                <i class="fas fa-calendar mr-1"></i>
                                ${formatDate(item.updatedAt)}
                            </div>
                        </div>
                        
                        <div class="text-gray-600 mb-4">
                            ${truncateHTML(version.content, 150)}
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2 text-sm text-gray-500">
                                <i class="fas fa-eye"></i>
                                <span>ìì„¸íˆ ë³´ê¸°</span>
                            </div>
                            <div class="flex items-center space-x-1 text-sm text-gray-400">
                                <i class="fas fa-clock mr-1"></i>
                                <span>${formatDate(version.lastModified || item.updatedAt)}</span>
                            </div>
                        </div>
                    </article>
                `;
            }).join('');
            
            contentList.innerHTML = contentHTML;
        }

        // í˜ì´ì§€ë„¤ì´ì…˜ ë Œë”ë§
        function renderPagination(totalPages) {
            const pagination = document.getElementById('pagination');
            
            if (totalPages <= 1) {
                pagination.innerHTML = '';
                return;
            }
            
            let paginationHTML = '<nav class="flex items-center space-x-2">';
            
            // ì´ì „ ë²„íŠ¼
            if (currentPage > 1) {
                paginationHTML += `
                    <button onclick="goToPage(${currentPage - 1})" class="px-3 py-2 text-gray-500 hover:text-[#4B63AC] hover:bg-gray-100 rounded-lg transition duration-200">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                `;
            }
            
            // í˜ì´ì§€ ë²ˆí˜¸ë“¤
            const startPage = Math.max(1, currentPage - 2);
            const endPage = Math.min(totalPages, currentPage + 2);
            
            for (let i = startPage; i <= endPage; i++) {
                const isActive = i === currentPage;
                paginationHTML += `
                    <button onclick="goToPage(${i})" class="px-4 py-2 rounded-lg transition duration-200 ${
                        isActive 
                            ? 'bg-[#4B63AC] text-white' 
                            : 'text-gray-700 hover:bg-gray-100 hover:text-[#4B63AC]'
                    }">
                        ${i}
                    </button>
                `;
            }
            
            // ë‹¤ìŒ ë²„íŠ¼
            if (currentPage < totalPages) {
                paginationHTML += `
                    <button onclick="goToPage(${currentPage + 1})" class="px-3 py-2 text-gray-500 hover:text-[#4B63AC] hover:bg-gray-100 rounded-lg transition duration-200">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                `;
            }
            
            paginationHTML += '</nav>';
            pagination.innerHTML = paginationHTML;
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        function setupEventListeners() {
            // ê²€ìƒ‰ ë²„íŠ¼
            document.getElementById('searchBtn').addEventListener('click', () => {
                currentPage = 1;
                loadContent();
            });
            
            // ê²€ìƒ‰ ì…ë ¥ ì—”í„°í‚¤
            document.getElementById('searchInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    currentPage = 1;
                    loadContent();
                }
            });
            
            // í•„í„° ì²´í¬ë°•ìŠ¤
            document.querySelectorAll('input[name="category"], input[name="priority"]').forEach(checkbox => {
                checkbox.addEventListener('change', () => {
                    currentPage = 1;
                    loadContent();
                });
            });
            
            // ì •ë ¬ ë“œë¡­ë‹¤ìš´
            document.getElementById('sortBy').addEventListener('change', () => {
                currentPage = 1;
                loadContent();
            });
        }

        // ì»¤ë®¤ë‹ˆí‹°ìš© ìƒ˜í”Œ ë°ì´í„° ìƒì„±
        function generateCommunityContent() {
            const currentTime = new Date().toISOString();
            
            return [
                {
                    id: 'welcome_community_001',
                    type: 'notices',
                    priority: 'high',
                    createdAt: currentTime,
                    updatedAt: currentTime,
                    versions: {
                        ko: {
                            title: 'LikeVoca ì»¤ë®¤ë‹ˆí‹°ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!',
                            content: '<div class="prose max-w-none"><h2>ğŸ‰ ì»¤ë®¤ë‹ˆí‹´ ì˜¤í”ˆ!</h2><p>ì–¸ì–´í•™ìŠµì— ë„ì›€ì´ ë˜ëŠ” ë‹¤ì–‘í•œ ê°€ì´ë“œì™€ íŒì„ ê³µìœ í•˜ëŠ” ìƒˆë¡œìš´ ì»¤ë®¤ë‹ˆí‹° ê³µê°„ì´ ì˜¤í”ˆë˜ì—ˆìŠµë‹ˆë‹¤.</p><ul><li>í•™ìŠµ ê°€ì´ë“œ ë° ì „ëµ</li><li>ìƒˆë¡œìš´ ê¸°ëŠ¥ ì•ˆë‚´</li><li>ê³µì§€ì‚¬í•­ ë° ì—…ë°ì´íŠ¸</li></ul><p>ì—¬ëŸ¬ë¶„ì˜ ì–¸ì–´í•™ìŠµ ì—¬ì •ì— ë„ì›€ì´ ë˜ëŠ” ìœ ìš©í•œ ì •ë³´ë“¤ì„ ì°¾ì•„ë³´ì„¸ìš”!</p></div>',
                            published: true,
                            lastModified: currentTime,
                            translationStatus: 'updated'
                        }
                    }
                },
                {
                    id: 'learning_guide_001',
                    type: 'guide',
                    priority: 'high',
                    createdAt: currentTime,
                    updatedAt: currentTime,
                    versions: {
                        ko: {
                            title: 'íš¨ê³¼ì ì¸ ë‹¨ì–´ í•™ìŠµ ì „ëµ',
                            content: '<div class="prose max-w-none"><h2>ğŸ“š ë‹¨ì–´ í•™ìŠµì˜ ê³¼í•™ì  ì ‘ê·¼ë²•</h2><p>ì–¸ì–´í•™ìŠµì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒ ì¤‘ í•˜ë‚˜ëŠ” ì–´íœ˜ í•™ìŠµì…ë‹ˆë‹¤. ì—¬ê¸° íš¨ê³¼ì ì¸ ë‹¨ì–´ í•™ìŠµ ì „ëµì„ ì†Œê°œí•©ë‹ˆë‹¤.</p><h3>ğŸ”„ ê°„ê²© ë°˜ë³µ í•™ìŠµë²•</h3><ul><li>1ì¼ í›„: ì²« ë²ˆì§¸ ë³µìŠµ</li><li>3ì¼ í›„: ë‘ ë²ˆì§¸ ë³µìŠµ</li><li>1ì£¼ì¼ í›„: ì„¸ ë²ˆì§¸ ë³µìŠµ</li><li>2ì£¼ì¼ í›„: ë„¤ ë²ˆì§¸ ë³µìŠµ</li></ul><h3>ğŸ¯ ëŠ¥ë™ì  íšŒìƒë²•</h3><p>ë‹¨ìˆœíˆ ì½ê¸°ë³´ë‹¤ëŠ” ì§ì ‘ ìƒê°í•´ë‚´ëŠ” ê²ƒì´ íš¨ê³¼ì ì…ë‹ˆë‹¤.</p></div>',
                            published: true,
                            lastModified: currentTime,
                            translationStatus: 'updated'
                        }
                    }
                },
                {
                    id: 'faq_getting_started_001',
                    type: 'faq',
                    priority: 'normal',
                    createdAt: currentTime,
                    updatedAt: currentTime,
                    versions: {
                        ko: {
                            title: 'LikeVocaë¥¼ ì²˜ìŒ ì‹œì‘í•˜ëŠ” ë°©ë²•ì€?',
                            content: '<div class="prose max-w-none"><p>LikeVocaë¥¼ ì²˜ìŒ ì‚¬ìš©í•˜ì‹œëŠ” ë¶„ë“¤ì„ ìœ„í•œ ê°„ë‹¨í•œ ê°€ì´ë“œì…ë‹ˆë‹¤:</p><ol><li><strong>ê³„ì • ìƒì„±</strong>: ì´ë©”ì¼ë¡œ ê°€ì…í•˜ê±°ë‚˜ Google/Facebook ì†Œì…œ ë¡œê·¸ì¸ì„ ì´ìš©í•˜ì„¸ìš”.</li><li><strong>ë ˆë²¨ í…ŒìŠ¤íŠ¸</strong>: ê°„ë‹¨í•œ ì–´íœ˜ í…ŒìŠ¤íŠ¸ë¡œ ë‚´ ìˆ˜ì¤€ì„ í™•ì¸í•´ë³´ì„¸ìš”.</li><li><strong>AI ë‹¨ì–´ ì¶”ì²œ</strong>: ë‚´ ìˆ˜ì¤€ì— ë§ëŠ” ë‹¤ì–‘í•œ ë‹¨ì–´ë“¤ì„ ë§Œë‚˜ë³´ì„¸ìš”.</li><li><strong>ê²Œì„ìœ¼ë¡œ í•™ìŠµ</strong>: ì¬ë¯¸ìˆëŠ” ê²Œì„ìœ¼ë¡œ ë‹¨ì–´ë¥¼ ìµí˜€ë³´ì„¸ìš”!</li></ol></div>',
                            published: true,
                            lastModified: currentTime,
                            translationStatus: 'updated'
                        }
                    }
                }
            ];
        }

        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
        window.goToPage = function(page) {
            currentPage = page;
            loadContent();
        };

        window.clearFilters = function() {
            document.querySelectorAll('input[name="category"], input[name="priority"]').forEach(cb => cb.checked = false);
            document.querySelector('input[name="category"][value="all"]').checked = true;
            document.querySelector('input[name="priority"][value="all"]').checked = true;
            document.getElementById('searchInput').value = '';
            document.getElementById('sortBy').value = 'newest';
            currentPage = 1;
            loadContent();
        };

        window.openContentModal = function(contentId) {
            // ìƒì„¸ ì½˜í…ì¸  ëª¨ë‹¬ êµ¬í˜„
            const content = contentManager.contentData.find(item => item.id === contentId);
            if (!content) return;
            
            const version = content.versions[contentManager.language];
            if (!version) return;
            
            // ìƒì„¸ë³´ê¸° í˜ì´ì§€ë¡œ ì´ë™í•˜ê±°ë‚˜ ëª¨ë‹¬ í‘œì‹œ
            // ì—¬ê¸°ì„œëŠ” ê°„ë‹¨íˆ ìƒˆ ì°½ìœ¼ë¡œ í‘œì‹œ
            const newWindow = window.open('', '_blank', 'width=800,height=600');
            const htmlContent = `
                <html>
                    <head>
                        <title>${version.title} - LikeVoca</title>
                        <script src="https://cdn.tailwindcss.com"><\/script>
                    </head>
                    <body class="bg-gray-50 p-8">
                        <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-8">
                            <h1 class="text-3xl font-bold text-gray-900 mb-4">${version.title}</h1>
                            <div class="prose max-w-none">
                                ${version.content}
                            </div>
                        </div>
                    </body>
                </html>
            `;
            newWindow.document.write(htmlContent);
            newWindow.document.close();
        };

        function formatDate(dateString) {
            if (!dateString) return '-';
            const date = new Date(dateString);
            return date.toLocaleDateString('ko-KR', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }

        function truncateHTML(html, maxLength) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = html;
            const text = tempDiv.textContent || tempDiv.innerText || '';
            return text.length > maxLength ? text.substring(0, maxLength) + '...' : text;
        }

        function showError(message) {
            const contentList = document.getElementById('contentList');
            contentList.innerHTML = `
                <div class="text-center py-12">
                    <i class="fas fa-exclamation-triangle text-4xl text-red-400 mb-4"></i>
                    <p class="text-red-600">${message}</p>
                </div>
            `;
        }
    </script>
</body>
</html>