<div
  id="bulk-korean-word-modal"
  class="hidden fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm"
>
  <div
    class="bg-white p-8 rounded-2xl shadow-2xl w-[800px] max-h-[90vh] overflow-y-auto transform transition-all"
  >
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-3xl font-bold text-gray-800">한국어 단어 대량 추가</h2>
      <button id="close-bulk-modal" class="text-gray-500 hover:text-gray-700">
        <i class="fas fa-times text-2xl"></i>
      </button>
    </div>

    <div class="space-y-6">
      <div class="p-4 bg-blue-50 rounded-lg">
        <div class="flex justify-between items-center mb-2">
          <h3 class="text-lg font-semibold">파일 형식 안내</h3>
          <div class="flex space-x-2">
            <label class="inline-flex items-center">
              <input type="radio" name="file-format" value="csv" class="form-radio" checked>
              <span class="ml-2">CSV</span>
            </label>
            <label class="inline-flex items-center">
              <input type="radio" name="file-format" value="json" class="form-radio">
              <span class="ml-2">JSON</span>
            </label>
          </div>
        </div>
        
        <!-- CSV 형식 가이드 -->
        <div id="csv-format-guide">
          <p class="text-sm text-gray-700 mb-2">
            한국어 단어를 대량으로 추가하기 위한 CSV 파일 형식은 다음과 같습니다:
          </p>
          <div class="bg-white p-3 rounded border text-xs overflow-x-auto">
            <code>한국어,발음,품사,수준,카테고리,영어의미,영어예문,영어예문번역,영어유의어,일본어의미,일본어예문,일본어예문번역,일본어유의어,중국어의미,중국어예문,중국어예문번역,중국어유의어,이모지,사용빈도,관련단어</code>
          </div>
          <p class="text-sm text-gray-700 mt-2">
            - <span class="font-semibold">한국어, 발음, 영어의미</span>는 필수 항목입니다.<br>
            - <span class="font-semibold">품사</span>: 명사, 동사, 형용사, 부사, 조사, 감탄사<br>
            - <span class="font-semibold">수준</span>: 초급, 중급, 고급<br>
            - <span class="font-semibold">세미콜론(;) 사용 필드</span>:<br>
            &nbsp;&nbsp;· 카테고리: 여러 카테고리는 세미콜론(;)으로 구분 (예: 음식;과일)<br>
            &nbsp;&nbsp;· 의미: 여러 의미는 세미콜론(;)으로 구분 (예: apple;fruit)<br>
            &nbsp;&nbsp;· 유의어: 여러 유의어는 세미콜론(;)으로 구분 (예: fruit;red fruit)<br>
            &nbsp;&nbsp;· 관련단어: 여러 관련 단어는 세미콜론(;)으로 구분 (예: 사과나무;사과즙)<br>
            - <span class="font-semibold">예문</span>: 각 언어별로 한국어 예문과 해당 언어 번역을 입력<br>
            - <span class="font-semibold">이모지</span>: 이모지 문자 (예: 🍎)<br>
            - <span class="font-semibold">사용빈도</span>: 1-100 사이 숫자
          </p>
        </div>
        
        <!-- JSON 형식 가이드 -->
        <div id="json-format-guide" class="hidden">
          <p class="text-sm text-gray-700 mb-2">
            JSON 파일은 다음과 같은 형식을 따라야 합니다:
          </p>
          <div class="bg-white p-3 rounded border text-xs overflow-y-auto" style="max-height: 200px;">
<pre><code>[
  {
    "한국어": "사과",
    "발음": "sa-gwa",
    "품사": "명사",
    "수준": "초급",
    "카테고리": "음식;과일",
    "영어의미": "apple;fruit",
    "영어예문": "저는 사과를 좋아해요.",
    "영어예문번역": "I like apples.",
    "영어유의어": "fruit;red fruit",
    "일본어의미": "りんご",
    "일본어예문": "사과를 먹고 싶어요.",
    "일본어예문번역": "りんごを食べたいです。",
    "일본어유의어": "果物",
    "중국어의미": "苹果",
    "중국어예문": "사과는 빨간색입니다.",
    "중국어예문번역": "苹果是红色的。",
    "중국어유의어": "水果",
    "이모지": "🍎",
    "사용빈도": 90,
    "관련단어": "사과나무;사과즙"
  }
]</code></pre>
          </div>
          <p class="text-sm text-gray-700 mt-2">
            - 단어 배열 형식으로 여러 단어를 한 번에 추가할 수 있습니다.<br>
            - <span class="font-semibold">필수 항목</span>: 한국어, 발음, 영어의미<br>
            - <span class="font-semibold">품사</span>: 명사, 동사, 형용사, 부사, 조사, 감탄사 중 하나<br>
            - <span class="font-semibold">수준</span>: 초급, 중급, 고급 중 하나<br>
            - <span class="font-semibold">세미콜론(;) 사용 필드</span>:<br>
            &nbsp;&nbsp;· 카테고리: "음식;과일"처럼 세미콜론으로 구분<br>
            &nbsp;&nbsp;· 의미: "apple;fruit"처럼 세미콜론으로 구분<br>
            &nbsp;&nbsp;· 유의어: "fruit;red fruit"처럼 세미콜론으로 구분<br>
            &nbsp;&nbsp;· 관련단어: "사과나무;사과즙"처럼 세미콜론으로 구분<br>
            - <span class="font-semibold">사용빈도</span>: 1-100 사이 숫자여야 함
          </p>
        </div>
      </div>

      <div class="border-t border-b py-4">
        <div class="flex flex-col space-y-2">
          <label class="text-gray-700 font-medium">파일 업로드</label>
          <input
            type="file"
            id="csv-file-input"
            accept=".csv,.json"
            class="p-2 border rounded-lg w-full"
          />
        </div>
        <div class="mt-4" id="file-preview-container">
          <div class="hidden" id="preview-loading">
            <div class="flex items-center justify-center py-4">
              <div class="animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"></div>
              <span class="ml-2 text-gray-600">파일 분석 중...</span>
            </div>
          </div>
          <div class="hidden" id="preview-content">
            <h4 class="text-lg font-medium mb-2">파일 미리보기</h4>
            <div class="bg-gray-50 p-3 rounded-lg max-h-[300px] overflow-y-auto">
              <table class="w-full text-sm">
                <thead class="text-left bg-gray-100">
                  <tr id="preview-header"></tr>
                </thead>
                <tbody id="preview-body"></tbody>
              </table>
            </div>
            <div class="mt-3 text-sm text-gray-600">
              총 <span id="total-words-count" class="font-semibold">0</span>개 단어 중 
              <span id="valid-words-count" class="font-semibold text-green-600">0</span>개 유효,
              <span id="invalid-words-count" class="font-semibold text-red-600">0</span>개 무효
            </div>
          </div>
          <div class="hidden" id="preview-error">
            <div class="bg-red-50 text-red-700 p-4 rounded-lg">
              <h4 class="font-semibold mb-1">파일 처리 오류</h4>
              <p id="error-message">파일을 읽는 동안 오류가 발생했습니다.</p>
            </div>
          </div>
        </div>
      </div>

      <div class="flex justify-between space-x-3 pt-4">
        <a 
          href="#" 
          id="download-template" 
          class="text-blue-600 hover:text-blue-800 flex items-center"
          download
        >
          <i class="fas fa-download mr-1"></i> 템플릿 다운로드
        </a>
        <button
          id="bulk-save-words"
          disabled
          class="px-6 py-2.5 rounded-lg bg-[#4B63AC] text-white hover:bg-[#3A4F8B] disabled:bg-gray-400 disabled:cursor-not-allowed"
        >
          단어 추가하기
        </button>
      </div>
    </div>
  </div>
</div> 