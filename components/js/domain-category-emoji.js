// 도메인별 카테고리 매핑
export const domainCategoryMapping = {
  daily: [
    "household",
    "family",
    "routine",
    "clothing",
    "furniture",
    "shopping",
    "transportation",
    "communication",
    "personal_care",
    "leisure",
    "relationships",
    "emotions",
    "time",
    "weather_talk",
    "other",
  ],
  food: [
    "fruit",
    "vegetable",
    "meat",
    "drink",
    "snack",
    "grain",
    "seafood",
    "dairy",
    "cooking",
    "dining",
    "restaurant",
    "kitchen_utensils",
    "spices",
    "dessert",
    "other",
  ],
  travel: [
    "transportation",
    "accommodation",
    "tourist_attraction",
    "luggage",
    "direction",
    "booking",
    "currency",
    "culture",
    "emergency",
    "documents",
    "sightseeing",
    "local_food",
    "souvenir",
    "other",
  ],
  business: [
    "meeting",
    "finance",
    "marketing",
    "office",
    "project",
    "negotiation",
    "presentation",
    "teamwork",
    "leadership",
    "networking",
    "sales",
    "contract",
    "startup",
    "other",
  ],
  education: [
    "teaching",
    "learning",
    "classroom",
    "curriculum",
    "assessment",
    "pedagogy",
    "skill_development",
    "online_learning",
    "training",
    "certification",
    "educational_technology",
    "student_life",
    "graduation",
    "examination",
    "university",
    "library",
    "other",
  ],
  nature: [
    "animal",
    "plant",
    "weather",
    "geography",
    "environment",
    "ecosystem",
    "conservation",
    "climate",
    "natural_disaster",
    "landscape",
    "marine_life",
    "forest",
    "mountain",
    "other",
  ],
  technology: [
    "computer",
    "software",
    "internet",
    "mobile",
    "ai",
    "programming",
    "cybersecurity",
    "database",
    "robotics",
    "blockchain",
    "cloud",
    "social_media",
    "gaming",
    "innovation",
    "other",
  ],
  health: [
    "exercise",
    "medicine",
    "nutrition",
    "mental_health",
    "hospital",
    "fitness",
    "wellness",
    "therapy",
    "prevention",
    "symptoms",
    "treatment",
    "pharmacy",
    "rehabilitation",
    "medical_equipment",
    "other",
  ],
  sports: [
    "football",
    "basketball",
    "swimming",
    "running",
    "equipment",
    "olympics",
    "tennis",
    "baseball",
    "golf",
    "martial_arts",
    "team_sports",
    "individual_sports",
    "coaching",
    "competition",
    "other",
  ],
  entertainment: [
    "movie",
    "music",
    "game",
    "book",
    "art",
    "theater",
    "concert",
    "festival",
    "celebrity",
    "tv_show",
    "comedy",
    "drama",
    "animation",
    "photography",
    "other",
  ],
  culture: [
    "tradition",
    "customs",
    "language",
    "religion",
    "festival",
    "heritage",
    "ceremony",
    "ritual",
    "folklore",
    "mythology",
    "arts_crafts",
    "etiquette",
    "national_identity",
    "other",
  ],
  other: [
    "hobbies",
    "finance_personal",
    "legal",
    "government",
    "politics",
    "media",
    "community",
    "volunteering",
    "charity",
    "social_issues",
    "philosophy_life",
    "spirituality",
    "creativity",
    "innovation",
    "science",
    "literature",
    "history",
    "mathematics",
    "research",
    "philosophy",
    "psychology",
    "sociology",
    "linguistics",
    "thesis",
    "other",
  ],
};

// 카테고리별 이모지 매핑
export const categoryEmojiMapping = {
  household: [
    "🏠",
    "🛏️",
    "🪑",
    "🚿",
    "🧽",
    "🧹",
    "🗑️",
    "🔑",
    "🪟",
    "🚪",
    "💡",
    "🏡",
  ],
  family: [
    "👨‍👩‍👧‍👦",
    "👶",
    "👧",
    "👦",
    "👴",
    "👵",
    "💑",
    "👪",
    "👨‍👩‍👧",
    "👨‍👩‍👦",
    "🤱",
    "👨‍👨‍👧‍👦",
    "👩‍👩‍👧‍👦",
    "👪",
  ],
  routine: [
    "⏰",
    "🌅",
    "🌙",
    "😴",
    "🍽️",
    "🚿",
    "🧘",
    "📱",
    "🪥",
    "☕",
    "🧴",
    "📅",
  ],
  clothing: [
    "👕",
    "👖",
    "👗",
    "👔",
    "👠",
    "👟",
    "🧥",
    "👒",
    "🧦",
    "🧤",
    "👜",
    "👛",
    "🎽",
    "👘",
    "👠",
  ],
  furniture: [
    "🪑",
    "🛏️",
    "🛋️",
    "📺",
    "💡",
    "🪞",
    "🚪",
    "🪟",
    "🪴",
    "🕯️",
    "📚",
    "🏠",
  ],
  fruit: [
    "🍎",
    "🍌",
    "🍊",
    "🍇",
    "🍓",
    "🥝",
    "🍑",
    "🥭",
    "🍍",
    "🥥",
    "🫐",
    "🍉",
    "🍒",
    "🥑",
    "🍋",
  ],
  vegetable: [
    "🥕",
    "🥬",
    "🥒",
    "🍅",
    "🥔",
    "🧄",
    "🧅",
    "🌽",
    "🥦",
    "🫑",
    "🍆",
    "🥜",
    "🌶️",
    "🍠",
    "🥗",
  ],
  meat: [
    "🥩",
    "🍗",
    "🥓",
    "🍖",
    "🐟",
    "🦐",
    "🦀",
    "🍳",
    "🥚",
    "🍤",
    "🦞",
    "🐙",
    "🍖",
  ],
  drink: [
    "☕",
    "🍵",
    "🥤",
    "🍺",
    "🍷",
    "🥛",
    "🧃",
    "🥃",
    "🧋",
    "🍹",
    "🥂",
    "🍾",
    "🧊",
  ],
  snack: [
    "🍪",
    "🍩",
    "🍰",
    "🧁",
    "🍫",
    "🍿",
    "🥜",
    "🍭",
    "🧊",
    "🍱",
    "🥠",
    "🍮",
    "🍻",
  ],
  transportation: [
    "✈️",
    "🚗",
    "🚌",
    "🚊",
    "🚇",
    "🚢",
    "🚲",
    "🛵",
    "🚕",
    "🚙",
    "🛺",
    "🚛",
    "🚚",
    "🚐",
    "🚁",
  ],
  accommodation: [
    "🏨",
    "🏠",
    "🏕️",
    "🛏️",
    "🗝️",
    "🧳",
    "🎒",
    "📋",
    "🏘️",
    "🏢",
    "🏯",
    "🏰",
    "🏨",
  ],
  tourist_attraction: [
    "🏛️",
    "🗽",
    "🎡",
    "🎢",
    "🏰",
    "⛩️",
    "🗿",
    "📸",
    "🏯",
    "🎪",
    "🏖️",
    "🎠",
    "🎭",
    "🎨",
    "🏟️",
  ],
  luggage: [
    "🧳",
    "🎒",
    "👜",
    "💼",
    "📦",
    "🛍️",
    "👝",
    "🎁",
    "👛",
    "🧰",
    "🗃️",
    "📂",
    "🧳",
  ],
  direction: [
    "🗺️",
    "🧭",
    "📍",
    "🚩",
    "⬅️",
    "➡️",
    "⬆️",
    "⬇️",
    "🔄",
    "🔁",
    "🔀",
    "🗺️",
  ],
  meeting: [
    "💼",
    "📊",
    "📈",
    "💻",
    "📝",
    "🤝",
    "👔",
    "⏰",
    "📋",
    "🎯",
    "📞",
    "🤝",
  ],
  finance: [
    "💰",
    "💳",
    "📊",
    "💵",
    "💎",
    "🏦",
    "📈",
    "💹",
    "💸",
    "🪙",
    "💶",
    "💷",
    "💴",
    "💳",
  ],
  marketing: [
    "📢",
    "📱",
    "💡",
    "🎯",
    "📊",
    "🚀",
    "💼",
    "📈",
    "📣",
    "📻",
    "📺",
    "📰",
    "📣",
  ],
  office: [
    "💻",
    "📱",
    "📝",
    "📋",
    "🖇️",
    "📎",
    "🗂️",
    "📞",
    "🖨️",
    "📠",
    "📧",
    "💼",
  ],
  project: [
    "📋",
    "📊",
    "⏰",
    "🎯",
    "🚀",
    "💡",
    "📈",
    "✅",
    "📝",
    "📌",
    "🔍",
    "📋",
  ],
  science: [
    "🔬",
    "⚗️",
    "🧪",
    "🔭",
    "🧬",
    "⚛️",
    "🌡️",
    "⚖️",
    "🦠",
    "🧫",
    "💊",
    "🌌",
    "🌠",
    "⚡",
    "⚗️",
  ],
  literature: [
    "📚",
    "✍️",
    "📖",
    "📝",
    "📜",
    "🖋️",
    "📑",
    "📰",
    "📄",
    "✏️",
    "🖊️",
    "📓",
    "📔",
    "📕",
    "📖",
  ],
  history: [
    "📜",
    "🏛️",
    "⚔️",
    "👑",
    "🗿",
    "📚",
    "🏺",
    "⏳",
    "🏰",
    "🛡️",
    "⛪",
    "🏯",
    "🎭",
    "📖",
    "🏛️",
  ],
  mathematics: [
    "🔢",
    "📐",
    "📏",
    "🧮",
    "➕",
    "➖",
    "✖️",
    "➗",
    "📊",
    "📈",
    "📉",
    "∞",
    "π",
    "🧮",
  ],
  research: [
    "🔍",
    "📊",
    "📈",
    "💻",
    "📝",
    "🧪",
    "📋",
    "💡",
    "🔬",
    "📑",
    "📄",
    "🗃️",
    "📂",
    "💡",
    "🔍",
  ],
  animal: [
    "🐶",
    "🐱",
    "🐻",
    "🦁",
    "🐘",
    "🦒",
    "🐧",
    "🦋",
    "🐼",
    "🦊",
    "🐺",
    "🦌",
    "🐨",
    "🐵",
    "🐶",
  ],
  plant: [
    "🌳",
    "🌸",
    "🌺",
    "🌻",
    "🌹",
    "🌿",
    "🍀",
    "🌵",
    "🌱",
    "🌲",
    "🌴",
    "🌾",
    "🌼",
    "🌷",
    "🌳",
  ],
  weather: [
    "☀️",
    "🌧️",
    "❄️",
    "⛈️",
    "🌈",
    "☁️",
    "🌪️",
    "🌊",
    "🌤️",
    "⛅",
    "🌦️",
    "🌩️",
    "🌨️",
    "🌡️",
    "☀️",
  ],
  geography: [
    "🏔️",
    "🌋",
    "🏝️",
    "🏜️",
    "🌍",
    "🗺️",
    "🧭",
    "⛰️",
    "🏞️",
    "🏖️",
    "🌊",
    "🏕️",
    "🌄",
    "🏔️",
  ],
  environment: [
    "🌍",
    "♻️",
    "🌱",
    "💚",
    "🌊",
    "🌬️",
    "🔋",
    "⚡",
    "🌿",
    "🌳",
    "🏞️",
    "🦋",
    "🐝",
    "🌍",
  ],
  computer: [
    "💻",
    "🖥️",
    "⌨️",
    "🖱️",
    "💾",
    "💿",
    "🔌",
    "🖨️",
    "📱",
    "💻",
    "⚙️",
    "💻",
  ],
  software: [
    "💻",
    "📱",
    "🖥️",
    "⚙️",
    "🔧",
    "💿",
    "📀",
    "💾",
    "📲",
    "🔧",
    "⚙️",
    "💻",
  ],
  internet: [
    "🌐",
    "📡",
    "📶",
    "💻",
    "📱",
    "🔗",
    "📧",
    "💬",
    "🔍",
    "📊",
    "🌐",
    "🌐",
  ],
  mobile: [
    "📱",
    "📞",
    "📲",
    "💬",
    "📷",
    "🎵",
    "🔋",
    "📶",
    "📞",
    "📲",
    "📱",
    "📱",
  ],
  ai: ["🤖", "🧠", "💻", "⚡", "🔮", "🎯", "🚀", "💡", "🔬", "🔍", "🧠", "🤖"],
  exercise: [
    "🏃",
    "💪",
    "🏋️",
    "🚴",
    "🏊",
    "🧘",
    "⚽",
    "🏀",
    "🤸",
    "🏃‍♀️",
    "💪",
    "🏃",
  ],
  medicine: [
    "💊",
    "🩺",
    "💉",
    "🏥",
    "👨‍⚕️",
    "👩‍⚕️",
    "🚑",
    "🩹",
    "💊",
    "🩺",
    "💉",
    "💊",
  ],
  nutrition: [
    "🥗",
    "🍎",
    "🥛",
    "💊",
    "🥕",
    "🍌",
    "🥑",
    "🍇",
    "🥦",
    "🍓",
    "🥗",
    "🥗",
  ],
  mental_health: [
    "🧘",
    "💆",
    "😌",
    "🌸",
    "💚",
    "🧠",
    "☮️",
    "🤗",
    "💙",
    "🤗",
    "🧘",
    "🧘",
  ],
  hospital: [
    "🏥",
    "🩺",
    "👨‍⚕️",
    "👩‍⚕️",
    "🚑",
    "💊",
    "🛏️",
    "📋",
    "🏥",
    "🩺",
    "👨‍⚕️",
    "🏥",
  ],
  football: [
    "⚽",
    "🥅",
    "👕",
    "👟",
    "🏆",
    "📊",
    "🎯",
    "⏱️",
    "🏟️",
    "🎽",
    "⚽",
    "⚽",
  ],
  basketball: [
    "🏀",
    "🏀",
    "👕",
    "👟",
    "🏆",
    "📊",
    "⏱️",
    "🎯",
    "🏀",
    "🏟️",
    "🏀",
    "🏀",
  ],
  swimming: [
    "🏊",
    "🏊‍♀️",
    "🏊‍♂️",
    "🏖️",
    "💧",
    "🏆",
    "⏱️",
    "🥽",
    "🏊",
    "🏊‍♀️",
    "🏊",
    "🏊",
  ],
  running: [
    "🏃",
    "🏃‍♀️",
    "🏃‍♂️",
    "👟",
    "⏱️",
    "🏆",
    "📊",
    "🎽",
    "🏃",
    "🏃‍♀️",
    "🏃",
    "🏃",
  ],
  equipment: [
    "🏋️",
    "⚽",
    "🏀",
    "🎾",
    "🏸",
    "🏓",
    "🥊",
    "⛳",
    "🏋️‍♀️",
    "🎯",
    "🏋️",
    "🏋️",
  ],
  movie: [
    "🎬",
    "🎭",
    "🍿",
    "🎞️",
    "📺",
    "🎪",
    "🎨",
    "🎭",
    "🎥",
    "🍿",
    "🎬",
    "🎬",
  ],
  music: [
    "🎵",
    "🎶",
    "🎤",
    "🎸",
    "🎹",
    "🥁",
    "🎺",
    "🎧",
    "🎶",
    "🎤",
    "🎵",
    "🎵",
  ],
  game: [
    "🎮",
    "🕹️",
    "🎯",
    "🃏",
    "🎲",
    "🧩",
    "🎪",
    "🎨",
    "🎮",
    "🕹️",
    "🎮",
    "🎮",
  ],
  book: [
    "📚",
    "📖",
    "📝",
    "✍️",
    "📜",
    "🖋️",
    "📑",
    "📰",
    "📖",
    "📚",
    "📚",
    "📚",
  ],
  art: ["🎨", "🖌️", "🖍️", "🎭", "🖼️", "🎪", "🌈", "✨", "🎨", "🖌️", "🎨", "🎨"],
  // 새로 추가된 카테고리들
  shopping: [
    "🛒",
    "🛍️",
    "💳",
    "🏪",
    "🏬",
    "💰",
    "💸",
    "🛒",
    "🏷️",
    "💎",
    "👜",
    "💰",
    "🛍️",
  ],
  communication: [
    "💬",
    "📞",
    "📧",
    "📱",
    "🗣️",
    "👥",
    "💌",
    "📲",
    "📢",
    "📻",
    "📡",
    "💬",
    "📞",
  ],
  personal_care: [
    "🧴",
    "🧼",
    "🪥",
    "💅",
    "💄",
    "🚿",
    "🪒",
    "🧽",
    "🧴",
    "💅",
    "🪥",
    "🧴",
  ],
  leisure: [
    "📚",
    "🎵",
    "🎮",
    "🎬",
    "🧘",
    "🎨",
    "⛱️",
    "🍿",
    "🏖️",
    "🎪",
    "📚",
    "🎵",
  ],
  relationships: [
    "❤️",
    "👫",
    "💑",
    "👪",
    "🤝",
    "💕",
    "👭",
    "👬",
    "💏",
    "👨‍❤️‍👨",
    "👩‍❤️‍👩",
    "❤️",
    "👫",
  ],
  emotions: [
    "😊",
    "😢",
    "😡",
    "😱",
    "😍",
    "🥺",
    "😅",
    "🤗",
    "😭",
    "😄",
    "😌",
    "😊",
    "😂",
  ],
  time: [
    "⏰",
    "📅",
    "⌚",
    "⏳",
    "🕐",
    "📆",
    "⏱️",
    "🌅",
    "🌄",
    "🌙",
    "⏰",
    "📅",
  ],
  weather_talk: [
    "☀️",
    "🌧️",
    "❄️",
    "🌈",
    "☁️",
    "⛈️",
    "🌪️",
    "🌊",
    "🌤️",
    "⛅",
    "🌡️",
    "☀️",
    "🌧️",
  ],

  grain: [
    "🌾",
    "🍞",
    "🍚",
    "🥖",
    "🥐",
    "🧈",
    "🥯",
    "🍝",
    "🌽",
    "🥖",
    "🍚",
    "🌾",
  ],
  seafood: [
    "🐟",
    "🦐",
    "🦀",
    "🐙",
    "🦞",
    "🐚",
    "🦑",
    "🍣",
    "🐠",
    "🦈",
    "🐟",
    "🦐",
  ],
  dairy: [
    "🥛",
    "🧀",
    "🧈",
    "🍼",
    "🍨",
    "🧈",
    "🧀",
    "🥛",
    "🍦",
    "🥛",
    "🧀",
    "🥛",
  ],
  cooking: [
    "👨‍🍳",
    "🍳",
    "🔥",
    "🍽️",
    "🥄",
    "🔪",
    "🍲",
    "👩‍🍳",
    "🥘",
    "🥙",
    "👨‍🍳",
    "🍳",
  ],
  dining: [
    "🍽️",
    "🥢",
    "🍴",
    "🥂",
    "🍷",
    "🕯️",
    "🪑",
    "🎂",
    "🍻",
    "🥃",
    "🍽️",
    "🥢",
  ],
  restaurant: [
    "🍽️",
    "👨‍🍳",
    "🏪",
    "🍕",
    "🍔",
    "🥘",
    "☕",
    "🧑‍🍳",
    "🍜",
    "🥗",
    "🍽️",
    "🏪",
  ],
  kitchen_utensils: [
    "🔪",
    "🥄",
    "🍴",
    "🥢",
    "🍳",
    "🥘",
    "🫖",
    "🥄",
    "🔪",
    "🍴",
    "🔪",
  ],
  spices: [
    "🧂",
    "🌶️",
    "🧄",
    "🧅",
    "🌿",
    "🍃",
    "🫚",
    "🧈",
    "🌶️",
    "🧂",
    "🧄",
    "🧂",
  ],
  dessert: [
    "🍰",
    "🧁",
    "🍪",
    "🍩",
    "🍫",
    "🍭",
    "🍨",
    "🎂",
    "🧊",
    "🍮",
    "🍰",
    "🧁",
  ],

  booking: [
    "📝",
    "💳",
    "🎫",
    "📞",
    "💻",
    "📅",
    "🏨",
    "✈️",
    "🏨",
    "🎫",
    "📝",
    "💳",
  ],
  currency: [
    "💰",
    "💸",
    "💳",
    "🪙",
    "💵",
    "💶",
    "💷",
    "💴",
    "💰",
    "🪙",
    "💸",
    "💰",
  ],
  emergency: [
    "🚨",
    "🆘",
    "🚑",
    "🚒",
    "👮",
    "⚠️",
    "📞",
    "🏥",
    "🆘",
    "🚨",
    "🚑",
    "🚨",
  ],
  documents: [
    "📄",
    "📋",
    "🆔",
    "📜",
    "📑",
    "🖊️",
    "📝",
    "🗂️",
    "🆔",
    "📄",
    "📋",
    "📄",
  ],
  sightseeing: [
    "📸",
    "🗺️",
    "🏛️",
    "🗽",
    "⛩️",
    "🏰",
    "🎡",
    "📷",
    "📸",
    "🗺️",
    "🏛️",
    "📸",
  ],
  local_food: [
    "🍜",
    "🍲",
    "🥟",
    "🍱",
    "🍙",
    "🥠",
    "🍖",
    "🥘",
    "🍜",
    "🍲",
    "🥟",
    "🍜",
  ],
  souvenir: [
    "🎁",
    "🛍️",
    "🧸",
    "🎪",
    "🏺",
    "📿",
    "👕",
    "🖼️",
    "🎁",
    "🛍️",
    "🧸",
    "🎁",
  ],

  negotiation: [
    "🤝",
    "💼",
    "📊",
    "💰",
    "⚖️",
    "📋",
    "🎯",
    "💬",
    "🤝",
    "💼",
    "📊",
    "🤝",
  ],
  presentation: [
    "📽️",
    "📊",
    "🎤",
    "💻",
    "📈",
    "📉",
    "👔",
    "🎯",
    "📽️",
    "📊",
    "🎤",
    "📽️",
  ],
  teamwork: [
    "👥",
    "🤝",
    "⚽",
    "🧩",
    "💪",
    "🎯",
    "👔",
    "📋",
    "👥",
    "🤝",
    "⚽",
    "👥",
  ],
  leadership: [
    "👑",
    "🎯",
    "📈",
    "💼",
    "🚀",
    "⭐",
    "👔",
    "🏆",
    "👑",
    "🎯",
    "📈",
    "👑",
  ],
  networking: [
    "🤝",
    "💼",
    "👥",
    "📱",
    "💬",
    "🌐",
    "🔗",
    "📧",
    "🤝",
    "💼",
    "👥",
    "🤝",
  ],
  sales: [
    "💰",
    "📈",
    "🎯",
    "💼",
    "🤝",
    "📊",
    "💳",
    "🏆",
    "💰",
    "📈",
    "🎯",
    "💰",
  ],
  contract: [
    "📝",
    "🖊️",
    "📋",
    "⚖️",
    "🤝",
    "💼",
    "📄",
    "🔒",
    "📝",
    "🖊️",
    "📋",
    "📝",
  ],
  startup: [
    "🚀",
    "💡",
    "💰",
    "📈",
    "👥",
    "💻",
    "🎯",
    "⭐",
    "🚀",
    "💡",
    "💰",
    "🚀",
  ],

  philosophy: [
    "🤔",
    "📚",
    "💭",
    "🧠",
    "⚖️",
    "💡",
    "🌌",
    "📜",
    "🤔",
    "📚",
    "💭",
    "🤔",
  ],
  psychology: [
    "🧠",
    "💭",
    "😊",
    "📊",
    "👥",
    "💡",
    "🔍",
    "📋",
    "🧠",
    "💭",
    "😊",
    "🧠",
  ],
  sociology: [
    "👥",
    "🏙️",
    "📊",
    "🤝",
    "🌍",
    "👫",
    "🏛️",
    "📈",
    "👥",
    "🏙️",
    "📊",
    "👥",
  ],
  linguistics: [
    "🗣️",
    "📚",
    "🌍",
    "🔤",
    "💬",
    "📖",
    "🎯",
    "📝",
    "🗣️",
    "📚",
    "🌍",
    "🗣️",
  ],
  university: [
    "🎓",
    "🏫",
    "📚",
    "👨‍🎓",
    "👩‍🎓",
    "📖",
    "🖊️",
    "🎒",
    "🎓",
    "🏫",
    "📚",
    "🎓",
  ],
  examination: [
    "📝",
    "⏰",
    "📋",
    "✏️",
    "📊",
    "📈",
    "🎯",
    "📖",
    "📝",
    "⏰",
    "📋",
    "📝",
  ],
  thesis: [
    "📄",
    "📚",
    "🖊️",
    "💻",
    "📊",
    "🔍",
    "📖",
    "🎓",
    "📄",
    "📚",
    "🖊️",
    "📄",
  ],
  library: [
    "📚",
    "📖",
    "🏛️",
    "🤫",
    "📋",
    "💻",
    "🪑",
    "📜",
    "📚",
    "📖",
    "🏛️",
    "📚",
  ],

  ecosystem: [
    "🌍",
    "🌱",
    "🐾",
    "🦋",
    "🌳",
    "🌊",
    "🔄",
    "♻️",
    "🌍",
    "🌱",
    "🐾",
    "🌍",
  ],
  conservation: [
    "🌱",
    "♻️",
    "🌍",
    "🐾",
    "🌳",
    "🦋",
    "💚",
    "🔋",
    "🌱",
    "♻️",
    "🌍",
    "🌱",
  ],
  climate: [
    "🌡️",
    "🌍",
    "❄️",
    "☀️",
    "🌊",
    "🌪️",
    "📊",
    "🔬",
    "🌡️",
    "🌍",
    "❄️",
    "🌡️",
  ],
  natural_disaster: [
    "🌪️",
    "🌋",
    "🌊",
    "⚡",
    "🔥",
    "❄️",
    "🆘",
    "⚠️",
    "🌪️",
    "🌋",
    "🌊",
    "🌪️",
  ],
  landscape: [
    "🏔️",
    "🌄",
    "🏞️",
    "🌅",
    "🏜️",
    "🏝️",
    "🌊",
    "🌳",
    "🏔️",
    "🌄",
    "🏞️",
    "🏔️",
  ],
  marine_life: [
    "🐟",
    "🐙",
    "🦈",
    "🐠",
    "🐋",
    "🐚",
    "🌊",
    "🪸",
    "🐟",
    "🐙",
    "🦈",
    "🐟",
  ],
  forest: [
    "🌳",
    "🌲",
    "🍃",
    "🦋",
    "🐻",
    "🦉",
    "🍄",
    "🌿",
    "🌳",
    "🌲",
    "🍃",
    "🌳",
  ],
  mountain: [
    "🏔️",
    "⛰️",
    "🗻",
    "🧗",
    "🥾",
    "🏕️",
    "❄️",
    "🌨️",
    "🏔️",
    "⛰️",
    "🗻",
    "🏔️",
  ],

  programming: [
    "💻",
    "⌨️",
    "🖥️",
    "💾",
    "🔧",
    "🐛",
    "🚀",
    "⚡",
    "💻",
    "⌨️",
    "🖥️",
    "💻",
  ],
  cybersecurity: [
    "🔒",
    "🛡️",
    "🔐",
    "🔑",
    "🚨",
    "💻",
    "⚠️",
    "🔓",
    "🔒",
    "🛡️",
    "🔐",
    "🔒",
  ],
  database: [
    "🗄️",
    "💾",
    "📊",
    "🔍",
    "📈",
    "💻",
    "🔒",
    "🗂️",
    "🗄️",
    "💾",
    "📊",
    "🗄️",
  ],
  robotics: [
    "🤖",
    "⚙️",
    "🔧",
    "🚀",
    "💻",
    "🦾",
    "🧠",
    "⚡",
    "🤖",
    "⚙️",
    "🔧",
    "🤖",
  ],
  blockchain: [
    "🔗",
    "⛓️",
    "💰",
    "🔒",
    "💻",
    "📊",
    "🚀",
    "💎",
    "🔗",
    "⛓️",
    "💰",
    "🔗",
  ],
  cloud: [
    "☁️",
    "💻",
    "📊",
    "🌐",
    "🔒",
    "⚡",
    "📱",
    "🗄️",
    "☁️",
    "💻",
    "📊",
    "☁️",
  ],
  social_media: [
    "📱",
    "👥",
    "💬",
    "📸",
    "❤️",
    "👍",
    "📲",
    "🌐",
    "📱",
    "👥",
    "💬",
    "📱",
  ],
  gaming: [
    "🎮",
    "🕹️",
    "🎯",
    "🏆",
    "👾",
    "🎪",
    "🚀",
    "⚡",
    "🎮",
    "🕹️",
    "🎯",
    "🎮",
  ],
  innovation: [
    "💡",
    "🚀",
    "⚡",
    "🧠",
    "🔬",
    "⭐",
    "🎯",
    "💻",
    "💡",
    "🚀",
    "⚡",
    "💡",
  ],

  fitness: [
    "💪",
    "🏋️",
    "🧘",
    "🏃",
    "⚽",
    "🏀",
    "🚴",
    "🤸",
    "💪",
    "🏋️",
    "🧘",
    "💪",
  ],
  wellness: [
    "🧘",
    "🌸",
    "💚",
    "☮️",
    "🤗",
    "🌿",
    "✨",
    "💆",
    "🧘",
    "🌸",
    "💚",
    "🧘",
  ],
  therapy: [
    "💆",
    "🛋️",
    "💬",
    "🧘",
    "💚",
    "🤗",
    "🌸",
    "☮️",
    "💆",
    "🛋️",
    "💬",
    "💆",
  ],
  prevention: [
    "💊",
    "🩺",
    "💉",
    "🏃",
    "🥗",
    "💧",
    "😷",
    "🧼",
    "💊",
    "🩺",
    "💉",
    "💊",
  ],
  symptoms: [
    "🤒",
    "😷",
    "🤧",
    "💊",
    "🩺",
    "📊",
    "📋",
    "⚠️",
    "🤒",
    "😷",
    "🤧",
    "🤒",
  ],
  treatment: [
    "💊",
    "💉",
    "🩺",
    "🏥",
    "👨‍⚕️",
    "🧬",
    "🔬",
    "📋",
    "💊",
    "💉",
    "🩺",
    "💊",
  ],
  pharmacy: [
    "💊",
    "🏪",
    "👨‍⚕️",
    "💉",
    "🧴",
    "📋",
    "💳",
    "🩺",
    "💊",
    "🏪",
    "👨‍⚕️",
    "💊",
  ],
  rehabilitation: [
    "🏥",
    "💪",
    "🦽",
    "👨‍⚕️",
    "📊",
    "🎯",
    "💚",
    "🤝",
    "🏥",
    "💪",
    "🦽",
    "🏥",
  ],
  medical_equipment: [
    "🩺",
    "💉",
    "🏥",
    "🩹",
    "⚕️",
    "🔬",
    "📊",
    "🧬",
    "🩺",
    "💉",
    "🏥",
    "🩺",
  ],

  olympics: [
    "🏅",
    "🏆",
    "🥇",
    "🥈",
    "🥉",
    "🔥",
    "🌍",
    "⭐",
    "🏅",
    "🏆",
    "🥇",
    "🏅",
  ],
  tennis: [
    "🎾",
    "🏆",
    "👟",
    "🏅",
    "📊",
    "⏱️",
    "🎯",
    "💪",
    "🎾",
    "🏆",
    "👟",
    "🎾",
  ],
  baseball: [
    "⚾",
    "🏆",
    "🥎",
    "👟",
    "🧢",
    "📊",
    "⏱️",
    "🎯",
    "⚾",
    "🏆",
    "🥎",
    "⚾",
  ],
  golf: [
    "⛳",
    "🏌️",
    "🏆",
    "👟",
    "📊",
    "🎯",
    "🌿",
    "🏌️‍♀️",
    "⛳",
    "🏌️",
    "🏆",
    "⛳",
  ],
  martial_arts: [
    "🥋",
    "🥊",
    "👊",
    "🏆",
    "💪",
    "🎯",
    "⚡",
    "🧘",
    "🥋",
    "🥊",
    "👊",
    "🥋",
  ],
  team_sports: [
    "👥",
    "⚽",
    "🏀",
    "🏆",
    "🤝",
    "📊",
    "🎯",
    "💪",
    "👥",
    "⚽",
    "🏀",
    "👥",
  ],
  individual_sports: [
    "🏃",
    "🏊",
    "🚴",
    "🏆",
    "💪",
    "⏱️",
    "🎯",
    "⭐",
    "🏃",
    "🏊",
    "🚴",
    "🏃",
  ],
  coaching: [
    "📋",
    "🎯",
    "💪",
    "👥",
    "📊",
    "🏆",
    "⚡",
    "📈",
    "📋",
    "🎯",
    "💪",
    "📋",
  ],
  competition: [
    "🏆",
    "🥇",
    "⚡",
    "🎯",
    "📊",
    "💪",
    "🔥",
    "⭐",
    "🏆",
    "🥇",
    "⚡",
    "🏆",
  ],

  theater: [
    "🎭",
    "🎪",
    "🎤",
    "🎬",
    "👗",
    "🎨",
    "🌟",
    "👏",
    "🎭",
    "🎪",
    "🎤",
    "🎭",
  ],
  concert: [
    "🎵",
    "🎤",
    "🎸",
    "🎹",
    "🎺",
    "🥁",
    "🎶",
    "🌟",
    "🎵",
    "🎤",
    "🎸",
    "🎵",
  ],
  festival: [
    "🎪",
    "🎭",
    "🎨",
    "🎵",
    "🎡",
    "🎢",
    "🎠",
    "🎆",
    "🎪",
    "🎭",
    "🎨",
    "🎪",
  ],
  celebrity: [
    "⭐",
    "🌟",
    "📷",
    "🎬",
    "🎤",
    "👑",
    "💫",
    "🏆",
    "⭐",
    "🌟",
    "📷",
    "⭐",
  ],
  tv_show: [
    "📺",
    "🎬",
    "🎭",
    "🎪",
    "📷",
    "🎤",
    "🌟",
    "📡",
    "📺",
    "🎬",
    "🎭",
    "📺",
  ],
  comedy: [
    "😂",
    "🎭",
    "🎪",
    "😆",
    "🤡",
    "🎤",
    "👏",
    "🌟",
    "😂",
    "🎭",
    "🎪",
    "😂",
  ],
  drama: [
    "🎭",
    "😢",
    "🎬",
    "📺",
    "🎪",
    "🌟",
    "💔",
    "👏",
    "🎭",
    "😢",
    "🎬",
    "🎭",
  ],
  animation: [
    "🎨",
    "🖌️",
    "🎬",
    "📱",
    "💻",
    "🌈",
    "⭐",
    "🎪",
    "🎨",
    "🖌️",
    "🎬",
    "🎨",
  ],
  photography: [
    "📷",
    "📸",
    "🎨",
    "🌅",
    "🖼️",
    "💡",
    "🌟",
    "📱",
    "📷",
    "📸",
    "🎨",
    "📷",
  ],

  tradition: [
    "🏛️",
    "📿",
    "👘",
    "🎭",
    "🕯️",
    "📜",
    "⛩️",
    "🎨",
    "🏛️",
    "📿",
    "👘",
    "🏛️",
  ],
  customs: [
    "🎎",
    "🏮",
    "🎊",
    "🎉",
    "🍱",
    "👘",
    "🎭",
    "⛩️",
    "🎎",
    "🏮",
    "🎊",
    "🎎",
  ],
  religion: [
    "⛪",
    "🕌",
    "⛩️",
    "🕯️",
    "📿",
    "🙏",
    "☮️",
    "📖",
    "⛪",
    "🕌",
    "⛩️",
    "⛪",
  ],
  heritage: [
    "🏛️",
    "🗿",
    "🏰",
    "🏺",
    "📜",
    "🎨",
    "⛩️",
    "👘",
    "🏛️",
    "🗿",
    "🏰",
    "🏛️",
  ],
  ceremony: [
    "🎊",
    "🎉",
    "💒",
    "🕯️",
    "💐",
    "🎂",
    "🥂",
    "👗",
    "🎊",
    "🎉",
    "💒",
    "🎊",
  ],
  ritual: [
    "🕯️",
    "📿",
    "🙏",
    "⛩️",
    "🔔",
    "🎭",
    "🌸",
    "☮️",
    "🕯️",
    "📿",
    "🙏",
    "🕯️",
  ],
  folklore: [
    "📚",
    "🎭",
    "🧚",
    "🐉",
    "🦄",
    "🎪",
    "🌟",
    "📜",
    "📚",
    "🎭",
    "🧚",
    "📚",
  ],
  mythology: [
    "🐉",
    "🦄",
    "⚡",
    "🌟",
    "👑",
    "⚔️",
    "🏛️",
    "📚",
    "🐉",
    "🦄",
    "⚡",
    "🐉",
  ],
  arts_crafts: [
    "🎨",
    "🖌️",
    "✂️",
    "🧵",
    "🏺",
    "🖼️",
    "🎭",
    "🌈",
    "🎨",
    "🖌️",
    "✂️",
    "🎨",
  ],
  etiquette: [
    "🤝",
    "🙏",
    "👔",
    "💐",
    "🍽️",
    "🎩",
    "👗",
    "💌",
    "🤝",
    "🙏",
    "👔",
    "🤝",
  ],
  national_identity: [
    "🇰🇷",
    "🏛️",
    "🎌",
    "👘",
    "🎭",
    "🎊",
    "🌸",
    "🏮",
    "🇰🇷",
    "🏛️",
    "🎌",
    "🇰🇷",
  ],

  teaching: [
    "👨‍🏫",
    "👩‍🏫",
    "📚",
    "🎓",
    "📝",
    "🏫",
    "📖",
    "✏️",
    "👨‍🏫",
    "👩‍🏫",
    "📚",
    "👨‍🏫",
  ],
  learning: [
    "📚",
    "🧠",
    "💡",
    "📖",
    "✏️",
    "🎯",
    "📋",
    "🎓",
    "📚",
    "🧠",
    "💡",
    "📚",
  ],
  classroom: [
    "🏫",
    "📚",
    "👨‍🏫",
    "📝",
    "🪑",
    "📋",
    "✏️",
    "🎒",
    "🏫",
    "📚",
    "👨‍🏫",
    "🏫",
  ],
  curriculum: [
    "📚",
    "📋",
    "📖",
    "🎯",
    "📊",
    "📝",
    "🎓",
    "🏫",
    "📚",
    "📋",
    "📖",
    "📚",
  ],
  assessment: [
    "📝",
    "📊",
    "📋",
    "✏️",
    "🎯",
    "📈",
    "🏆",
    "🎓",
    "📝",
    "📊",
    "📋",
    "📝",
  ],
  pedagogy: [
    "👨‍🏫",
    "📚",
    "🧠",
    "💡",
    "🎯",
    "📖",
    "🎓",
    "📋",
    "👨‍🏫",
    "📚",
    "🧠",
    "👨‍🏫",
  ],
  skill_development: [
    "💪",
    "🎯",
    "📈",
    "🧠",
    "⚡",
    "🚀",
    "💡",
    "🏆",
    "💪",
    "🎯",
    "📈",
    "💪",
  ],
  online_learning: [
    "💻",
    "📱",
    "🌐",
    "📚",
    "🎓",
    "📖",
    "📊",
    "💡",
    "💻",
    "📱",
    "🌐",
    "💻",
  ],
  training: [
    "💪",
    "🎯",
    "📋",
    "🏆",
    "📊",
    "⚡",
    "💡",
    "🚀",
    "💪",
    "🎯",
    "📋",
    "💪",
  ],
  certification: [
    "🏆",
    "📜",
    "🎓",
    "⭐",
    "🏅",
    "📋",
    "✅",
    "💎",
    "🏆",
    "📜",
    "🎓",
    "🏆",
  ],
  educational_technology: [
    "💻",
    "📱",
    "🎓",
    "📚",
    "🌐",
    "💡",
    "🚀",
    "📊",
    "💻",
    "📱",
    "🎓",
    "💻",
  ],
  student_life: [
    "🎒",
    "📚",
    "🏫",
    "👥",
    "🍕",
    "⚽",
    "🎮",
    "📱",
    "🎒",
    "📚",
    "🏫",
    "🎒",
  ],
  graduation: [
    "🎓",
    "🏆",
    "🎊",
    "🎉",
    "📜",
    "👨‍🎓",
    "👩‍🎓",
    "🌟",
    "🎓",
    "🏆",
    "🎊",
    "🎓",
  ],

  hobbies: [
    "🎨",
    "📚",
    "🎵",
    "🎮",
    "🧵",
    "🏃",
    "📷",
    "🌱",
    "🎨",
    "📚",
    "🎵",
    "🎨",
  ],
  finance_personal: [
    "💰",
    "💳",
    "📊",
    "🏦",
    "💸",
    "📈",
    "💵",
    "🪙",
    "💰",
    "💳",
    "📊",
    "💰",
  ],
  legal: [
    "⚖️",
    "👨‍💼",
    "📋",
    "📄",
    "🏛️",
    "🔒",
    "📝",
    "⚠️",
    "⚖️",
    "👨‍💼",
    "📋",
    "⚖️",
  ],
  government: [
    "🏛️",
    "🗳️",
    "📋",
    "👔",
    "⚖️",
    "📊",
    "🎯",
    "🇰🇷",
    "🏛️",
    "🗳️",
    "📋",
    "🏛️",
  ],
  politics: [
    "🗳️",
    "🏛️",
    "📢",
    "👔",
    "🎤",
    "📊",
    "⚖️",
    "🤝",
    "🗳️",
    "🏛️",
    "📢",
    "🗳️",
  ],
  media: [
    "📺",
    "📰",
    "📻",
    "📱",
    "📷",
    "🎤",
    "📡",
    "🌐",
    "📺",
    "📰",
    "📻",
    "📺",
  ],
  community: [
    "👥",
    "🏘️",
    "🤝",
    "🎪",
    "🏛️",
    "💚",
    "🌟",
    "👫",
    "👥",
    "🏘️",
    "🤝",
    "👥",
  ],
  volunteering: [
    "🤝",
    "💚",
    "🌟",
    "👥",
    "🎯",
    "💪",
    "🏆",
    "❤️",
    "🤝",
    "💚",
    "🌟",
    "🤝",
  ],
  charity: [
    "❤️",
    "💚",
    "🤝",
    "🎁",
    "💰",
    "🌟",
    "👥",
    "🏆",
    "❤️",
    "💚",
    "🤝",
    "❤️",
  ],
  social_issues: [
    "⚖️",
    "🌍",
    "👥",
    "📊",
    "💬",
    "🎯",
    "💪",
    "🤝",
    "⚖️",
    "🌍",
    "👥",
    "⚖️",
  ],
  philosophy_life: [
    "🤔",
    "🌌",
    "💭",
    "📚",
    "🧠",
    "⚖️",
    "💡",
    "☮️",
    "🤔",
    "🌌",
    "💭",
    "🤔",
  ],
  spirituality: [
    "🙏",
    "☮️",
    "🕯️",
    "🌌",
    "💫",
    "🧘",
    "💚",
    "✨",
    "🙏",
    "☮️",
    "🕯️",
    "🙏",
  ],
  creativity: [
    "🎨",
    "💡",
    "🌈",
    "✨",
    "🖌️",
    "🎭",
    "🎵",
    "🚀",
    "🎨",
    "💡",
    "🌈",
    "🎨",
  ],
  other: [
    "❓",
    "🔧",
    "⚙️",
    "📝",
    "💼",
    "🎯",
    "⭐",
    "🌟",
    "❔",
    "📌",
    "🔍",
    "❓",
  ],
};

// 번역 함수 - language-utils.js에서 가져오기
function getTranslation(key, lang = null) {
  const currentLang = lang || localStorage.getItem("preferredLanguage") || "ko";

  // language-utils.js의 translations 객체 사용 (올바른 구조로 접근)
  if (
    typeof window.translations !== "undefined" &&
    window.translations[currentLang] &&
    window.translations[currentLang][key]
  ) {
    return window.translations[currentLang][key];
  }

  // fallback 번역
  const fallbackTranslations = {
    select_category: {
      ko: "카테고리 선택",
      en: "Select Category",
      ja: "カテゴリ選択",
      zh: "选择类别",
    },
    select_emoji: {
      ko: "이모지 선택",
      en: "Select Emoji",
      ja: "絵文字選択",
      zh: "选择表情",
    },
    select_domain: {
      ko: "도메인 선택",
      en: "Select Domain",
      ja: "ドメイン選択",
      zh: "选择领域",
    },
  };

  if (fallbackTranslations[key]) {
    return (
      fallbackTranslations[key][currentLang] ||
      fallbackTranslations[key]["ko"] ||
      key
    );
  }

  return key;
}

// 카테고리 키를 현재 언어로 번역
function translateCategoryKey(categoryKey, lang = null) {
  const currentLang = lang || localStorage.getItem("preferredLanguage") || "ko";

  // 카테고리 번역 매핑 (확실한 번역을 위해)
  const categoryTranslations = {
    // 일상 관련
    daily_conversation: {
      ko: "일상 대화",
      en: "Daily Conversation",
      ja: "日常会話",
      zh: "日常对话",
    },
    family: { ko: "가족", en: "Family", ja: "家族", zh: "家庭" },
    home: { ko: "집", en: "Home", ja: "家", zh: "家" },
    household: {
      ko: "생활용품",
      en: "Household",
      ja: "生活用品",
      zh: "生活用品",
    },
    routine: { ko: "일상", en: "Routine", ja: "日常", zh: "日常" },
    clothing: { ko: "의류", en: "Clothing", ja: "衣類", zh: "服装" },
    furniture: { ko: "가구", en: "Furniture", ja: "家具", zh: "家具" },
    shopping: { ko: "쇼핑", en: "Shopping", ja: "ショッピング", zh: "购物" },
    transportation: {
      ko: "교통",
      en: "Transportation",
      ja: "交通",
      zh: "交通",
    },

    // 음식 관련
    fruit: { ko: "과일", en: "Fruit", ja: "果物", zh: "水果" },
    vegetable: { ko: "야채", en: "Vegetable", ja: "野菜", zh: "蔬菜" },
    meat: { ko: "고기", en: "Meat", ja: "肉", zh: "肉类" },
    drink: { ko: "음료", en: "Drink", ja: "飲み物", zh: "饮料" },
    snack: { ko: "간식", en: "Snack", ja: "スナック", zh: "零食" },

    // 비즈니스 관련
    meetings: { ko: "회의", en: "Meetings", ja: "会議", zh: "会议" },
    meeting: { ko: "회의", en: "Meeting", ja: "会議", zh: "会议" },
    presentations: {
      ko: "발표",
      en: "Presentations",
      ja: "プレゼンテーション",
      zh: "演示",
    },
    negotiations: { ko: "협상", en: "Negotiations", ja: "交渉", zh: "谈判" },
    finance: { ko: "금융", en: "Finance", ja: "金融", zh: "金融" },
    marketing: {
      ko: "마케팅",
      en: "Marketing",
      ja: "マーケティング",
      zh: "营销",
    },
    office: { ko: "사무실", en: "Office", ja: "オフィス", zh: "办公室" },
    project: { ko: "프로젝트", en: "Project", ja: "プロジェクト", zh: "项目" },

    // 학술 관련
    research: { ko: "연구", en: "Research", ja: "研究", zh: "研究" },
    literature: { ko: "문학", en: "Literature", ja: "文学", zh: "文学" },
    science: { ko: "과학", en: "Science", ja: "科学", zh: "科学" },
    mathematics: { ko: "수학", en: "Mathematics", ja: "数学", zh: "数学" },
    history: { ko: "역사", en: "History", ja: "歴史", zh: "历史" },

    // 여행 관련
    sightseeing: { ko: "관광", en: "Sightseeing", ja: "観光", zh: "观光" },
    accommodation: { ko: "숙박", en: "Accommodation", ja: "宿泊", zh: "住宿" },
    tourist_attraction: {
      ko: "관광명소",
      en: "Tourist Attraction",
      ja: "観光地",
      zh: "旅游景点",
    },
    luggage: { ko: "짐", en: "Luggage", ja: "荷物", zh: "行李" },
    direction: { ko: "방향", en: "Direction", ja: "方向", zh: "方向" },
    restaurants: {
      ko: "레스토랑",
      en: "Restaurants",
      ja: "レストラン",
      zh: "餐厅",
    },
    directions: { ko: "길 안내", en: "Directions", ja: "道案内", zh: "方向" },
    culture: { ko: "문화", en: "Culture", ja: "文化", zh: "文化" },

    // 자연 관련
    weather: { ko: "날씨", en: "Weather", ja: "天気", zh: "天气" },
    plants: { ko: "식물", en: "Plants", ja: "植物", zh: "植物" },
    plant: { ko: "식물", en: "Plant", ja: "植物", zh: "植物" },
    animals: { ko: "동물", en: "Animals", ja: "動物", zh: "动物" },
    animal: { ko: "동물", en: "Animal", ja: "動物", zh: "动物" },
    environment: { ko: "환경", en: "Environment", ja: "環境", zh: "环境" },
    geography: { ko: "지리", en: "Geography", ja: "地理", zh: "地理" },

    // 기술 관련
    computers: {
      ko: "컴퓨터",
      en: "Computers",
      ja: "コンピューター",
      zh: "计算机",
    },
    computer: {
      ko: "컴퓨터",
      en: "Computer",
      ja: "コンピューター",
      zh: "计算机",
    },
    internet: {
      ko: "인터넷",
      en: "Internet",
      ja: "インターネット",
      zh: "互联网",
    },
    mobile: { ko: "모바일", en: "Mobile", ja: "モバイル", zh: "移动设备" },
    software: {
      ko: "소프트웨어",
      en: "Software",
      ja: "ソフトウェア",
      zh: "软件",
    },
    ai: {
      ko: "인공지능",
      en: "Artificial Intelligence",
      ja: "人工知能",
      zh: "人工智能",
    },

    // 건강 관련
    medicine: { ko: "의학", en: "Medicine", ja: "医学", zh: "医学" },
    exercise: { ko: "운동", en: "Exercise", ja: "運動", zh: "运动" },
    fitness: { ko: "피트니스", en: "Fitness", ja: "フィットネス", zh: "健身" },
    nutrition: { ko: "영양", en: "Nutrition", ja: "栄養", zh: "营养" },
    mental_health: {
      ko: "정신 건강",
      en: "Mental Health",
      ja: "メンタルヘルス",
      zh: "心理健康",
    },
    hospitals: { ko: "병원", en: "Hospitals", ja: "病院", zh: "医院" },
    hospital: { ko: "병원", en: "Hospital", ja: "病院", zh: "医院" },

    // 스포츠 관련
    soccer: { ko: "축구", en: "Soccer", ja: "サッカー", zh: "足球" },
    football: { ko: "축구", en: "Football", ja: "サッカー", zh: "足球" },
    basketball: {
      ko: "농구",
      en: "Basketball",
      ja: "バスケットボール",
      zh: "篮球",
    },
    tennis: { ko: "테니스", en: "Tennis", ja: "テニス", zh: "网球" },
    swimming: { ko: "수영", en: "Swimming", ja: "水泳", zh: "游泳" },
    running: { ko: "달리기", en: "Running", ja: "ランニング", zh: "跑步" },
    equipment: { ko: "장비", en: "Equipment", ja: "設備", zh: "设备" },
    olympics: {
      ko: "올림픽",
      en: "Olympics",
      ja: "オリンピック",
      zh: "奥运会",
    },

    // 엔터테인먼트 관련
    movies: { ko: "영화", en: "Movies", ja: "映画", zh: "电影" },
    movie: { ko: "영화", en: "Movie", ja: "映画", zh: "电影" },
    music: { ko: "음악", en: "Music", ja: "音楽", zh: "音乐" },
    games: { ko: "게임", en: "Games", ja: "ゲーム", zh: "游戏" },
    game: { ko: "게임", en: "Game", ja: "ゲーム", zh: "游戏" },
    books: { ko: "책", en: "Books", ja: "本", zh: "书籍" },
    book: { ko: "책", en: "Book", ja: "本", zh: "书籍" },
    art: { ko: "예술", en: "Art", ja: "芸術", zh: "艺术" },
    tv_shows: {
      ko: "TV 프로그램",
      en: "TV Shows",
      ja: "テレビ番組",
      zh: "电视节目",
    },

    // 일상 추가 카테고리
    shopping: { ko: "쇼핑", en: "Shopping", ja: "ショッピング", zh: "购物" },
    communication: {
      ko: "의사소통",
      en: "Communication",
      ja: "コミュニケーション",
      zh: "沟通",
    },
    personal_care: {
      ko: "개인 관리",
      en: "Personal Care",
      ja: "パーソナルケア",
      zh: "个人护理",
    },
    leisure: { ko: "여가", en: "Leisure", ja: "レジャー", zh: "休闲" },
    relationships: {
      ko: "인간관계",
      en: "Relationships",
      ja: "人間関係",
      zh: "人际关系",
    },
    emotions: { ko: "감정", en: "Emotions", ja: "感情", zh: "情感" },
    time: { ko: "시간", en: "Time", ja: "時間", zh: "时间" },
    weather_talk: {
      ko: "날씨 대화",
      en: "Weather Talk",
      ja: "天気の話",
      zh: "天气话题",
    },

    // 음식 추가 카테고리
    grain: { ko: "곡물", en: "Grain", ja: "穀物", zh: "谷物" },
    seafood: { ko: "해산물", en: "Seafood", ja: "シーフード", zh: "海鲜" },
    dairy: { ko: "유제품", en: "Dairy", ja: "乳製品", zh: "乳制品" },
    cooking: { ko: "요리", en: "Cooking", ja: "料理", zh: "烹饪" },
    dining: { ko: "식사", en: "Dining", ja: "食事", zh: "用餐" },
    restaurant: {
      ko: "레스토랑",
      en: "Restaurant",
      ja: "レストラン",
      zh: "餐厅",
    },
    kitchen_utensils: {
      ko: "주방용품",
      en: "Kitchen Utensils",
      ja: "キッチン用品",
      zh: "厨房用具",
    },
    spices: { ko: "향신료", en: "Spices", ja: "スパイス", zh: "香料" },
    dessert: { ko: "디저트", en: "Dessert", ja: "デザート", zh: "甜点" },

    // 여행 추가 카테고리
    booking: { ko: "예약", en: "Booking", ja: "予約", zh: "预订" },
    currency: { ko: "통화", en: "Currency", ja: "通貨", zh: "货币" },
    emergency: {
      ko: "응급상황",
      en: "Emergency",
      ja: "緊急事態",
      zh: "紧急情况",
    },
    documents: { ko: "서류", en: "Documents", ja: "書類", zh: "文件" },
    sightseeing: { ko: "관광", en: "Sightseeing", ja: "観光", zh: "观光" },
    local_food: {
      ko: "현지 음식",
      en: "Local Food",
      ja: "郷土料理",
      zh: "当地美食",
    },
    souvenir: { ko: "기념품", en: "Souvenir", ja: "お土産", zh: "纪念品" },

    // 비즈니스 추가 카테고리
    negotiation: { ko: "협상", en: "Negotiation", ja: "交渉", zh: "谈判" },
    presentation: {
      ko: "발표",
      en: "Presentation",
      ja: "プレゼンテーション",
      zh: "演示",
    },
    teamwork: {
      ko: "팀워크",
      en: "Teamwork",
      ja: "チームワーク",
      zh: "团队合作",
    },
    leadership: {
      ko: "리더십",
      en: "Leadership",
      ja: "リーダーシップ",
      zh: "领导力",
    },
    networking: {
      ko: "네트워킹",
      en: "Networking",
      ja: "ネットワーキング",
      zh: "人脉建设",
    },
    sales: { ko: "영업", en: "Sales", ja: "セールス", zh: "销售" },
    contract: { ko: "계약", en: "Contract", ja: "契約", zh: "合同" },
    startup: {
      ko: "스타트업",
      en: "Startup",
      ja: "スタートアップ",
      zh: "创业",
    },

    // 학술 추가 카테고리
    philosophy: { ko: "철학", en: "Philosophy", ja: "哲学", zh: "哲学" },
    psychology: { ko: "심리학", en: "Psychology", ja: "心理学", zh: "心理学" },
    sociology: { ko: "사회학", en: "Sociology", ja: "社会学", zh: "社会学" },
    linguistics: {
      ko: "언어학",
      en: "Linguistics",
      ja: "言語学",
      zh: "语言学",
    },
    university: { ko: "대학", en: "University", ja: "大学", zh: "大学" },
    examination: { ko: "시험", en: "Examination", ja: "試験", zh: "考试" },
    thesis: { ko: "논문", en: "Thesis", ja: "論文", zh: "论文" },
    library: { ko: "도서관", en: "Library", ja: "図書館", zh: "图书馆" },

    // 자연 추가 카테고리
    ecosystem: { ko: "생태계", en: "Ecosystem", ja: "生態系", zh: "生态系统" },
    conservation: { ko: "보존", en: "Conservation", ja: "保護", zh: "保护" },
    climate: { ko: "기후", en: "Climate", ja: "気候", zh: "气候" },
    natural_disaster: {
      ko: "자연재해",
      en: "Natural Disaster",
      ja: "自然災害",
      zh: "自然灾害",
    },
    landscape: { ko: "풍경", en: "Landscape", ja: "風景", zh: "风景" },
    marine_life: {
      ko: "해양생물",
      en: "Marine Life",
      ja: "海洋生物",
      zh: "海洋生物",
    },
    forest: { ko: "숲", en: "Forest", ja: "森", zh: "森林" },
    mountain: { ko: "산", en: "Mountain", ja: "山", zh: "山" },

    // 기술 추가 카테고리
    programming: {
      ko: "프로그래밍",
      en: "Programming",
      ja: "プログラミング",
      zh: "编程",
    },
    cybersecurity: {
      ko: "사이버보안",
      en: "Cybersecurity",
      ja: "サイバーセキュリティ",
      zh: "网络安全",
    },
    database: {
      ko: "데이터베이스",
      en: "Database",
      ja: "データベース",
      zh: "数据库",
    },
    robotics: {
      ko: "로봇공학",
      en: "Robotics",
      ja: "ロボティクス",
      zh: "机器人学",
    },
    blockchain: {
      ko: "블록체인",
      en: "Blockchain",
      ja: "ブロックチェーン",
      zh: "区块链",
    },
    cloud: { ko: "클라우드", en: "Cloud", ja: "クラウド", zh: "云计算" },
    social_media: {
      ko: "소셜미디어",
      en: "Social Media",
      ja: "ソーシャルメディア",
      zh: "社交媒体",
    },
    gaming: { ko: "게임", en: "Gaming", ja: "ゲーミング", zh: "游戏" },
    innovation: {
      ko: "혁신",
      en: "Innovation",
      ja: "イノベーション",
      zh: "创新",
    },

    // 건강 추가 카테고리
    fitness: { ko: "피트니스", en: "Fitness", ja: "フィットネス", zh: "健身" },
    wellness: { ko: "웰니스", en: "Wellness", ja: "ウェルネス", zh: "健康" },
    therapy: { ko: "치료", en: "Therapy", ja: "セラピー", zh: "治疗" },
    prevention: { ko: "예방", en: "Prevention", ja: "予防", zh: "预防" },
    symptoms: { ko: "증상", en: "Symptoms", ja: "症状", zh: "症状" },
    treatment: { ko: "치료", en: "Treatment", ja: "治療", zh: "治疗" },
    pharmacy: { ko: "약국", en: "Pharmacy", ja: "薬局", zh: "药房" },
    rehabilitation: {
      ko: "재활",
      en: "Rehabilitation",
      ja: "リハビリテーション",
      zh: "康复",
    },
    medical_equipment: {
      ko: "의료기기",
      en: "Medical Equipment",
      ja: "医療機器",
      zh: "医疗设备",
    },

    // 스포츠 추가 카테고리
    olympics: {
      ko: "올림픽",
      en: "Olympics",
      ja: "オリンピック",
      zh: "奥运会",
    },
    tennis: { ko: "테니스", en: "Tennis", ja: "テニス", zh: "网球" },
    baseball: { ko: "야구", en: "Baseball", ja: "野球", zh: "棒球" },
    golf: { ko: "골프", en: "Golf", ja: "ゴルフ", zh: "高尔夫" },
    martial_arts: { ko: "무술", en: "Martial Arts", ja: "武術", zh: "武术" },
    team_sports: {
      ko: "팀스포츠",
      en: "Team Sports",
      ja: "チームスポーツ",
      zh: "团队运动",
    },
    individual_sports: {
      ko: "개인스포츠",
      en: "Individual Sports",
      ja: "個人スポーツ",
      zh: "个人运动",
    },
    coaching: { ko: "코칭", en: "Coaching", ja: "コーチング", zh: "教练" },
    competition: { ko: "경쟁", en: "Competition", ja: "競争", zh: "竞争" },

    // 엔터테인먼트 추가 카테고리
    theater: { ko: "연극", en: "Theater", ja: "演劇", zh: "戏剧" },
    concert: { ko: "콘서트", en: "Concert", ja: "コンサート", zh: "音乐会" },
    festival: { ko: "축제", en: "Festival", ja: "フェスティバル", zh: "节日" },
    celebrity: {
      ko: "유명인",
      en: "Celebrity",
      ja: "セレブリティ",
      zh: "名人",
    },
    tv_show: {
      ko: "TV 프로그램",
      en: "TV Show",
      ja: "テレビ番組",
      zh: "电视节目",
    },
    comedy: { ko: "코미디", en: "Comedy", ja: "コメディ", zh: "喜剧" },
    drama: { ko: "드라마", en: "Drama", ja: "ドラマ", zh: "戏剧" },
    animation: {
      ko: "애니메이션",
      en: "Animation",
      ja: "アニメーション",
      zh: "动画",
    },
    photography: { ko: "사진", en: "Photography", ja: "写真", zh: "摄影" },

    // 문화 카테고리
    tradition: { ko: "전통", en: "Tradition", ja: "伝統", zh: "传统" },
    customs: { ko: "관습", en: "Customs", ja: "習慣", zh: "习俗" },
    language: { ko: "언어", en: "Language", ja: "言語", zh: "语言" },
    religion: { ko: "종교", en: "Religion", ja: "宗教", zh: "宗教" },
    festival: { ko: "축제", en: "Festival", ja: "祭り", zh: "节日" },
    heritage: { ko: "유산", en: "Heritage", ja: "遺産", zh: "遗产" },
    ceremony: { ko: "의식", en: "Ceremony", ja: "儀式", zh: "仪式" },
    ritual: { ko: "의례", en: "Ritual", ja: "儀礼", zh: "仪礼" },
    folklore: { ko: "민화", en: "Folklore", ja: "民話", zh: "民间传说" },
    mythology: { ko: "신화", en: "Mythology", ja: "神話", zh: "神话" },
    arts_crafts: { ko: "공예", en: "Arts & Crafts", ja: "工芸", zh: "工艺" },
    etiquette: { ko: "예의", en: "Etiquette", ja: "エチケット", zh: "礼仪" },
    national_identity: {
      ko: "민족정체성",
      en: "National Identity",
      ja: "国民的アイデンティティ",
      zh: "民族认同",
    },

    // 교육 카테고리
    teaching: { ko: "교수법", en: "Teaching", ja: "教授法", zh: "教学" },
    learning: { ko: "학습", en: "Learning", ja: "学習", zh: "学习" },
    classroom: { ko: "교실", en: "Classroom", ja: "教室", zh: "教室" },
    curriculum: {
      ko: "교육과정",
      en: "Curriculum",
      ja: "カリキュラム",
      zh: "课程",
    },
    assessment: { ko: "평가", en: "Assessment", ja: "評価", zh: "评估" },
    pedagogy: { ko: "교육학", en: "Pedagogy", ja: "教育学", zh: "教育学" },
    skill_development: {
      ko: "기술 개발",
      en: "Skill Development",
      ja: "スキル開発",
      zh: "技能发展",
    },
    online_learning: {
      ko: "온라인 학습",
      en: "Online Learning",
      ja: "オンライン学習",
      zh: "在线学习",
    },
    training: { ko: "훈련", en: "Training", ja: "トレーニング", zh: "培训" },
    certification: { ko: "인증", en: "Certification", ja: "認証", zh: "认证" },
    educational_technology: {
      ko: "교육기술",
      en: "Educational Technology",
      ja: "教育技術",
      zh: "教育技术",
    },
    student_life: {
      ko: "학생생활",
      en: "Student Life",
      ja: "学生生活",
      zh: "学生生活",
    },
    graduation: { ko: "졸업", en: "Graduation", ja: "卒業", zh: "毕业" },

    // 기타 중요 카테고리
    hobbies: { ko: "취미", en: "Hobbies", ja: "趣味", zh: "爱好" },
    finance_personal: {
      ko: "개인재정",
      en: "Personal Finance",
      ja: "個人財政",
      zh: "个人理财",
    },
    legal: { ko: "법률", en: "Legal", ja: "法律", zh: "法律" },
    government: { ko: "정부", en: "Government", ja: "政府", zh: "政府" },
    politics: { ko: "정치", en: "Politics", ja: "政治", zh: "政治" },
    media: { ko: "미디어", en: "Media", ja: "メディア", zh: "媒体" },
    community: {
      ko: "공동체",
      en: "Community",
      ja: "コミュニティ",
      zh: "社区",
    },
    volunteering: {
      ko: "자원봉사",
      en: "Volunteering",
      ja: "ボランティア",
      zh: "志愿服务",
    },
    charity: { ko: "자선", en: "Charity", ja: "慈善", zh: "慈善" },
    social_issues: {
      ko: "사회문제",
      en: "Social Issues",
      ja: "社会問題",
      zh: "社会问题",
    },
    philosophy_life: {
      ko: "인생철학",
      en: "Life Philosophy",
      ja: "人生哲学",
      zh: "人生哲学",
    },
    spirituality: {
      ko: "영성",
      en: "Spirituality",
      ja: "スピリチュアリティ",
      zh: "灵性",
    },
    creativity: { ko: "창의성", en: "Creativity", ja: "創造性", zh: "创造力" },
    other: { ko: "기타", en: "Other", ja: "その他", zh: "其他" },
  };

  // 직접 매핑에서 번역 찾기
  if (
    categoryTranslations[categoryKey] &&
    categoryTranslations[categoryKey][currentLang]
  ) {
    return categoryTranslations[categoryKey][currentLang];
  }

  // language-utils.js의 번역 시스템 사용 (fallback)
  if (
    typeof window.translations !== "undefined" &&
    window.translations[currentLang] &&
    window.translations[currentLang][categoryKey]
  ) {
    return window.translations[currentLang][categoryKey];
  }

  return categoryKey;
}

// 도메인 키를 현재 언어로 번역하는 함수
function translateDomainKey(domainKey, lang = null) {
  const currentLang = lang || localStorage.getItem("preferredLanguage") || "ko";

  // 도메인 번역 매핑
  const domainTranslations = {
    daily: { ko: "일상", en: "Daily Life", ja: "日常生活", zh: "日常生活" },
    business: { ko: "비즈니스", en: "Business", ja: "ビジネス", zh: "商务" },
    education: { ko: "교육", en: "Education", ja: "教育", zh: "教育" },
    travel: { ko: "여행", en: "Travel", ja: "旅行", zh: "旅行" },
    food: { ko: "음식", en: "Food", ja: "食べ物", zh: "食物" },
    nature: { ko: "자연", en: "Nature", ja: "自然", zh: "自然" },
    technology: { ko: "기술", en: "Technology", ja: "技術", zh: "技术" },
    health: { ko: "건강", en: "Health", ja: "健康", zh: "健康" },
    sports: { ko: "스포츠", en: "Sports", ja: "スポーツ", zh: "体育" },
    entertainment: {
      ko: "엔터테인먼트",
      en: "Entertainment",
      ja: "エンターテインメント",
      zh: "娱乐",
    },
    culture: { ko: "문화", en: "Culture", ja: "文化", zh: "文化" },
    other: { ko: "기타", en: "Other", ja: "その他", zh: "其他" },
  };

  // 직접 매핑에서 번역 찾기
  if (
    domainTranslations[domainKey] &&
    domainTranslations[domainKey][currentLang]
  ) {
    return domainTranslations[domainKey][currentLang];
  }

  // language-utils.js의 번역 시스템 사용 (fallback)
  if (
    typeof window.translations !== "undefined" &&
    window.translations[currentLang] &&
    window.translations[currentLang][domainKey]
  ) {
    return window.translations[currentLang][domainKey];
  }

  return domainKey;
}

// 도메인 선택 변경 시 카테고리 업데이트
function updateCategoryOptions() {
  const domainSelect = document.getElementById("concept-domain");
  const categorySelect = document.getElementById("concept-category");
  const emojiSelect = document.getElementById("concept-emoji");

  if (!domainSelect || !categorySelect || !emojiSelect) return;

  const selectedDomain = domainSelect.value;
  // 여러 소스에서 현재 언어 가져오기
  const currentLang =
    localStorage.getItem("preferredLanguage") ||
    localStorage.getItem("userLanguage") ||
    "ko";

  // 현재 선택된 카테고리 값 저장
  const selectedCategory = categorySelect.value;

  // 카테고리 옵션 초기화 (현재 환경 언어로 플레이스홀더 설정)
  const categoryPlaceholder = getTranslation("select_category", currentLang);
  categorySelect.innerHTML = `<option value="" style="display: none;">${categoryPlaceholder}</option>`;

  // 이모지 옵션 초기화 (현재 환경 언어로 플레이스홀더 설정)
  const emojiPlaceholder = getTranslation("select_emoji", currentLang);
  emojiSelect.innerHTML = `<option value="" style="display: none;">${emojiPlaceholder}</option>`;

  if (selectedDomain && domainCategoryMapping[selectedDomain]) {
    const categories = domainCategoryMapping[selectedDomain];

    categories.forEach((category) => {
      const option = document.createElement("option");
      option.value = category;
      const translatedText = translateCategoryKey(category, currentLang);
      option.textContent = translatedText; // 현재 언어로 번역
      categorySelect.appendChild(option);
    });

    // 카테고리 선택값 복원
    if (selectedCategory && categories.includes(selectedCategory)) {
      categorySelect.value = selectedCategory;

      // 카테고리가 복원되었으면 이모지 옵션도 업데이트
      if (categorySelect.value === selectedCategory) {
        updateEmojiOptions();
      }
    }
  }
}

// 도메인 옵션들을 환경 언어로 번역하는 함수
function updateDomainOptions() {
  const domainSelects = [
    document.getElementById("concept-domain"),
    document.getElementById("edit-concept-domain"),
  ];

  // 여러 소스에서 현재 언어 가져오기
  let currentLang =
    localStorage.getItem("preferredLanguage") ||
    localStorage.getItem("userLanguage") ||
    "ko";

  // 도메인 번역 매핑 (확실한 번역을 위해)
  const domainTranslations = {
    daily: { ko: "일상", en: "Daily Life", ja: "日常生活", zh: "日常生活" },
    business: { ko: "비즈니스", en: "Business", ja: "ビジネス", zh: "商务" },
    education: { ko: "교육", en: "Education", ja: "教育", zh: "教育" },
    travel: { ko: "여행", en: "Travel", ja: "旅行", zh: "旅行" },
    food: { ko: "음식", en: "Food", ja: "食べ物", zh: "食物" },
    nature: { ko: "자연", en: "Nature", ja: "自然", zh: "自然" },
    technology: { ko: "기술", en: "Technology", ja: "技術", zh: "技术" },
    health: { ko: "건강", en: "Health", ja: "健康", zh: "健康" },
    sports: { ko: "스포츠", en: "Sports", ja: "スポーツ", zh: "体育" },
    entertainment: {
      ko: "엔터테인먼트",
      en: "Entertainment",
      ja: "エンターテインメント",
      zh: "娱乐",
    },
    culture: { ko: "문화", en: "Culture", ja: "文化", zh: "文化" },
    other: { ko: "기타", en: "Other", ja: "その他", zh: "其他" },
  };

  domainSelects.forEach((domainSelect) => {
    if (!domainSelect) return;

    // 기존 선택된 값 저장
    const selectedValue = domainSelect.value;

    // 도메인 옵션들 번역
    const options = domainSelect.querySelectorAll("option");

    options.forEach((option) => {
      const domainKey = option.value;
      if (domainKey && domainKey !== "") {
        // 직접 매핑에서 번역 찾기
        if (
          domainTranslations[domainKey] &&
          domainTranslations[domainKey][currentLang]
        ) {
          option.textContent = domainTranslations[domainKey][currentLang];
        } else {
          // window.translations에서 번역 찾기 (fallback)
          const translatedText = getTranslation(domainKey, currentLang);
          option.textContent = translatedText;
        }
      } else {
        // 플레이스홀더 옵션
        const placeholderText = getTranslation("select_domain", currentLang);
        option.textContent = placeholderText;
      }
    });

    // 선택된 값 복원
    domainSelect.value = selectedValue;

    // 도메인이 선택되어 있으면 카테고리도 업데이트
    if (selectedValue) {
      if (domainSelect.id === "concept-domain") {
        updateCategoryOptions();
      } else if (domainSelect.id === "edit-concept-domain") {
        updateEditCategoryOptions();
      }
    }
  });
}

// 편집 모달용 도메인 선택 변경 시 카테고리 업데이트
function updateEditCategoryOptions() {
  const domainSelect = document.getElementById("edit-concept-domain");
  const categorySelect = document.getElementById("edit-concept-category");
  const emojiSelect = document.getElementById("edit-concept-emoji");

  if (!domainSelect || !categorySelect || !emojiSelect) return;

  const selectedDomain = domainSelect.value;
  // 여러 소스에서 현재 언어 가져오기
  const currentLang =
    localStorage.getItem("preferredLanguage") ||
    localStorage.getItem("userLanguage") ||
    "ko";

  // 현재 선택된 카테고리 값 저장
  const selectedCategory = categorySelect.value;

  // 카테고리 옵션 초기화 (현재 환경 언어로 플레이스홀더 설정)
  const categoryPlaceholder = getTranslation("select_category", currentLang);
  categorySelect.innerHTML = `<option value="" style="display: none;">${categoryPlaceholder}</option>`;

  // 이모지 옵션 초기화 (현재 환경 언어로 플레이스홀더 설정)
  const emojiPlaceholder = getTranslation("select_emoji", currentLang);
  emojiSelect.innerHTML = `<option value="" style="display: none;">${emojiPlaceholder}</option>`;

  if (selectedDomain && domainCategoryMapping[selectedDomain]) {
    const categories = domainCategoryMapping[selectedDomain];

    categories.forEach((category) => {
      const option = document.createElement("option");
      option.value = category;
      const translatedText = translateCategoryKey(category, currentLang);
      option.textContent = translatedText; // 현재 언어로 번역
      categorySelect.appendChild(option);
    });

    // 카테고리 선택값 복원
    if (selectedCategory && categories.includes(selectedCategory)) {
      categorySelect.value = selectedCategory;

      // 카테고리가 복원되었으면 이모지 옵션도 업데이트
      if (categorySelect.value === selectedCategory) {
        updateEditEmojiOptions();
      }
    }
  }
}

// 편집 모달용 카테고리 선택 변경 시 이모지 업데이트
function updateEditEmojiOptions() {
  const categorySelect = document.getElementById("edit-concept-category");
  const emojiSelect = document.getElementById("edit-concept-emoji");

  if (!categorySelect || !emojiSelect) return;

  const selectedCategory = categorySelect.value;
  const currentLang =
    localStorage.getItem("preferredLanguage") ||
    localStorage.getItem("userLanguage") ||
    "ko";

  // DB에서 가져온 원본 이모지 값 (전역 저장소에서 확인)
  const originalDbEmoji = window.editConceptEmojiValue;

  // 이모지 옵션 초기화 (현재 환경 언어로 플레이스홀더 설정)
  const emojiPlaceholder = getTranslation("select_emoji", currentLang);
  emojiSelect.innerHTML = `<option value="" style="display: none;">${emojiPlaceholder}</option>`;

  if (selectedCategory && categoryEmojiMapping[selectedCategory]) {
    let emojis = [...categoryEmojiMapping[selectedCategory]]; // 복사본 생성

    // DB 이모지가 하드코딩 옵션에 없으면 동적으로 추가
    if (originalDbEmoji && !emojis.includes(originalDbEmoji)) {
      emojis.unshift(originalDbEmoji); // 맨 앞에 추가
    }

    emojis.forEach((emoji, index) => {
      const option = document.createElement("option");
      option.value = emoji;
      option.textContent = emoji;

      // DB 원본 이모지인 경우 표시
      if (
        emoji === originalDbEmoji &&
        !categoryEmojiMapping[selectedCategory].includes(emoji)
      ) {
        option.textContent = `${emoji} (현재)`;
        option.style.fontWeight = "bold";
        option.style.color = "#2563eb";
      }

      emojiSelect.appendChild(option);
    });

    // DB 원본 이모지로 선택 상태 설정
    if (originalDbEmoji) {
      emojiSelect.value = originalDbEmoji;
    } else {
      // DB 이모지가 없으면 첫 번째 하드코딩 이모지 선택
      if (emojis.length > 0) {
        emojiSelect.value = emojis[0];
      }
    }
  }
}

// 전체 도메인-카테고리-이모지 언어 업데이트 함수
function updateDomainCategoryEmojiLanguage() {
  // 도메인 옵션 업데이트
  updateDomainOptions();

  // 현재 선택된 도메인에 따라 카테고리도 업데이트
  const domainSelect = document.getElementById("concept-domain");
  const editDomainSelect = document.getElementById("edit-concept-domain");

  if (domainSelect && domainSelect.value) {
    updateCategoryOptions();
  }

  if (editDomainSelect && editDomainSelect.value) {
    updateEditCategoryOptions();
  }
}

// 품사 선택 옵션들을 환경 언어로 번역하는 함수
function updatePartOfSpeechOptions() {
  const currentLang = localStorage.getItem("preferredLanguage") || "ko";

  // 모든 품사 선택 드롭다운 찾기
  const posSelects = [
    // 개념 추가 모달
    document.getElementById("korean-pos"),
    document.getElementById("english-pos"),
    document.getElementById("japanese-pos"),
    document.getElementById("chinese-pos"),
    // 편집 모달
    document.getElementById("edit-korean-pos"),
    document.getElementById("edit-english-pos"),
    document.getElementById("edit-japanese-pos"),
    document.getElementById("edit-chinese-pos"),
  ];

  posSelects.forEach((select) => {
    if (!select) return;

    // 기존 선택된 값 저장
    const selectedValue = select.value;

    // 플레이스홀더 옵션 번역
    const placeholderOption = select.querySelector('option[value=""]');
    if (placeholderOption) {
      placeholderOption.textContent = getTranslation("select_pos", currentLang);
    }

    // 선택된 값 복원
    select.value = selectedValue;
  });
}

// 언어 탭별 품사 플레이스홀더와 선택지를 해당 언어로 업데이트하는 함수
function updatePartOfSpeechByLanguageTab() {
  // 각 언어별 품사 매핑
  const posMapping = {
    korean: {
      placeholder: "품사 선택",
      options: {
        명사: "명사",
        동사: "동사",
        형용사: "형용사",
        부사: "부사",
        대명사: "대명사",
        전치사: "전치사",
        접속사: "접속사",
        감탄사: "감탄사",
        조사: "조사",
        기타: "기타",
      },
    },
    english: {
      placeholder: "Select part of speech",
      options: {
        noun: "noun",
        verb: "verb",
        adjective: "adjective",
        adverb: "adverb",
        pronoun: "pronoun",
        preposition: "preposition",
        conjunction: "conjunction",
        interjection: "interjection",
        determiner: "determiner",
        other: "other",
      },
    },
    japanese: {
      placeholder: "品詞を選択",
      options: {
        名詞: "名詞",
        動詞: "動詞",
        形容詞: "形容詞",
        副詞: "副詞",
        代名詞: "代名詞",
        前置詞: "前置詞",
        接続詞: "接続詞",
        感嘆詞: "感嘆詞",
        助詞: "助詞",
        その他: "その他",
      },
    },
    chinese: {
      placeholder: "选择词性",
      options: {
        名词: "名词",
        动词: "动词",
        形容词: "形容词",
        副词: "副词",
        代词: "代词",
        介词: "介词",
        连词: "连词",
        感叹词: "感叹词",
        量词: "量词",
        其他: "其他",
      },
    },
  };

  // 각 언어별 품사 선택 드롭다운 업데이트
  Object.keys(posMapping).forEach((lang) => {
    const mapping = posMapping[lang];

    // 개념 추가 모달
    const addSelect = document.getElementById(`${lang}-pos`);
    if (addSelect) {
      updatePosSelect(addSelect, mapping);
    }

    // 편집 모달
    const editSelect = document.getElementById(`edit-${lang}-pos`);
    if (editSelect) {
      updatePosSelect(editSelect, mapping);
    }
  });
}

// 개별 품사 선택 드롭다운 업데이트 헬퍼 함수
function updatePosSelect(select, mapping) {
  if (!select) return;

  // 기존 선택된 값 저장
  const selectedValue = select.value;

  // 플레이스홀더 옵션 업데이트
  const placeholderOption = select.querySelector('option[value=""]');
  if (placeholderOption) {
    placeholderOption.textContent = mapping.placeholder;
  }

  // 각 옵션의 텍스트 업데이트 (value는 유지, 표시 텍스트만 변경)
  const options = select.querySelectorAll('option:not([value=""])');
  options.forEach((option) => {
    const value = option.value;
    if (mapping.options[value]) {
      option.textContent = mapping.options[value];
    }
  });

  // 선택된 값 복원
  select.value = selectedValue;
}

// 카테고리 선택 변경 시 이모지 업데이트
function updateEmojiOptions() {
  const categorySelect = document.getElementById("concept-category");
  const emojiSelect = document.getElementById("concept-emoji");

  if (!categorySelect || !emojiSelect) return;

  const selectedCategory = categorySelect.value;
  const currentLang =
    localStorage.getItem("preferredLanguage") ||
    localStorage.getItem("userLanguage") ||
    "ko";

  // 현재 선택된 이모지 값 저장
  const selectedEmoji = emojiSelect.value;

  // 이모지 옵션 초기화 (현재 환경 언어로 플레이스홀더 설정)
  const emojiPlaceholder = getTranslation("select_emoji", currentLang);
  emojiSelect.innerHTML = `<option value="" style="display: none;">${emojiPlaceholder}</option>`;

  if (selectedCategory && categoryEmojiMapping[selectedCategory]) {
    const emojis = categoryEmojiMapping[selectedCategory];

    emojis.forEach((emoji) => {
      const option = document.createElement("option");
      option.value = emoji;
      option.textContent = emoji;
      emojiSelect.appendChild(option);
    });

    // 이모지 선택값 복원
    if (selectedEmoji && emojis.includes(selectedEmoji)) {
      emojiSelect.value = selectedEmoji;
    }
  }
}

// 전역 객체 및 함수로 등록
window.updateCategoryOptions = updateCategoryOptions;
window.updateEmojiOptions = updateEmojiOptions;
window.updateEditCategoryOptions = updateEditCategoryOptions;
window.updateEditEmojiOptions = updateEditEmojiOptions;
window.updateDomainOptions = updateDomainOptions;
window.updatePartOfSpeechOptions = updatePartOfSpeechOptions;
window.updatePartOfSpeechByLanguageTab = updatePartOfSpeechByLanguageTab;
window.updateDomainCategoryEmojiLanguage = updateDomainCategoryEmojiLanguage;

// 페이지 로드 시 도메인 옵션 번역 초기화
document.addEventListener("DOMContentLoaded", () => {
  // 약간의 지연을 두어 다른 스크립트들이 로드될 시간을 확보
  setTimeout(() => {
    updateDomainOptions();
    updatePartOfSpeechOptions();
    updatePartOfSpeechByLanguageTab();
  }, 100);
});

// 언어 변경 이벤트 리스너
document.addEventListener("languageChanged", () => {
  updateDomainCategoryEmojiLanguage();
});
