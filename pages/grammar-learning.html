<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ë¬¸ë²• í•™ìŠµ - LikeVoca</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      .grammar-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      .grammar-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      }
      .pattern-example {
        position: relative;
        padding: 16px;
        background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
        border-radius: 8px;
        margin: 8px 0;
      }
      .pattern-highlight {
        background: linear-gradient(120deg, #a78bfa 0%, #8b5cf6 100%);
        color: white;
        padding: 2px 6px;
        border-radius: 4px;
        font-weight: 600;
      }
    </style>
  </head>

  <body class="bg-gray-50 min-h-screen">
    <!-- ë„¤ë¹„ê²Œì´ì…˜ë°” -->
    <div id="navbar-container"></div>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="container mx-auto px-4 py-8 max-w-7xl">
      <!-- í˜ì´ì§€ í—¤ë” -->
      <div class="bg-white rounded-lg shadow-md p-6 mb-6">
        <div class="flex items-center justify-between">
          <div>
            <h1 class="text-3xl font-bold text-gray-800 mb-2" data-i18n="grammar_learning_title">
              ë¬¸ë²• í•™ìŠµ
            </h1>
            <p class="text-gray-600" data-i18n="grammar_learning_subtitle">
              ì²´ê³„ì ì¸ ë¬¸ë²• íŒ¨í„´ ë¶„ì„ê³¼ ì‹¤ìŠµì„ í†µí•´ ì–¸ì–´ ì‹¤ë ¥ì„ í–¥ìƒì‹œí‚¤ì„¸ìš”
            </p>
          </div>
          <div class="flex items-center space-x-3">
            <select id="target-language" class="p-2 border rounded-lg">
              <option value="english">ì˜ì–´</option>
              <option value="japanese">ì¼ë³¸ì–´</option>
              <option value="chinese">ì¤‘êµ­ì–´</option>
            </select>
            <button
              id="refresh-patterns"
              class="bg-[#4B63AC] text-white px-4 py-2 rounded-lg hover:bg-[#3A4F8B] transition duration-300"
            >
              <i class="fas fa-sync-alt mr-2"></i>
              <span data-i18n="refresh">ìƒˆë¡œê³ ì¹¨</span>
            </button>
          </div>
        </div>
      </div>

      <!-- í•„í„° ì„¹ì…˜ -->
      <div class="bg-white rounded-lg shadow-md p-6 mb-6">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">ë‚œì´ë„</label>
            <select id="difficulty-filter" class="w-full p-2 border rounded-lg">
              <option value="all">ì „ì²´</option>
              <option value="beginner">ì´ˆê¸‰</option>
              <option value="intermediate">ì¤‘ê¸‰</option>
              <option value="advanced">ê³ ê¸‰</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">íŒ¨í„´ ìœ í˜•</label>
            <select id="pattern-type-filter" class="w-full p-2 border rounded-lg">
              <option value="all">ì „ì²´</option>
              <option value="tense">ì‹œì œ</option>
              <option value="grammar">ë¬¸ë²•</option>
              <option value="expression">í‘œí˜„</option>
              <option value="conversation">íšŒí™”</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">ë„ë©”ì¸</label>
            <select id="domain-filter" class="w-full p-2 border rounded-lg">
              <option value="all">ì „ì²´</option>
              <option value="daily">ì¼ìƒ</option>
              <option value="business">ë¹„ì¦ˆë‹ˆìŠ¤</option>
              <option value="academic">í•™ìˆ </option>
              <option value="travel">ì—¬í–‰</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">ì •ë ¬</label>
            <select id="sort-patterns" class="w-full p-2 border rounded-lg">
              <option value="frequency">ì‚¬ìš© ë¹ˆë„ìˆœ</option>
              <option value="difficulty">ë‚œì´ë„ìˆœ</option>
              <option value="alphabetical">ì•ŒíŒŒë²³ìˆœ</option>
              <option value="recent">ìµœê·¼ ì¶”ê°€ìˆœ</option>
            </select>
          </div>
        </div>
      </div>

      <!-- ë¬¸ë²• íŒ¨í„´ ëª©ë¡ -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6" id="grammar-patterns-container">
        <!-- ë™ì ìœ¼ë¡œ ì±„ì›Œì§ -->
      </div>

      <!-- ë¡œë”© ìŠ¤í”¼ë„ˆ -->
      <div id="loading-spinner" class="text-center py-8 hidden">
        <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-[#4B63AC]"></div>
        <p class="mt-2 text-gray-600" data-i18n="loading">ë¡œë”© ì¤‘...</p>
      </div>

      <!-- ë¹ˆ ìƒíƒœ -->
      <div id="empty-state" class="text-center py-16 hidden">
        <div class="text-6xl mb-4">ğŸ“š</div>
        <h3 class="text-xl font-semibold text-gray-800 mb-2">ë¬¸ë²• íŒ¨í„´ì´ ì—†ìŠµë‹ˆë‹¤</h3>
        <p class="text-gray-600 mb-4">ì„ íƒí•œ ì¡°ê±´ì— ë§ëŠ” ë¬¸ë²• íŒ¨í„´ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
        <button
          onclick="resetFilters()"
          class="bg-[#4B63AC] text-white px-6 py-3 rounded-lg hover:bg-[#3A4F8B] transition duration-300"
        >
          í•„í„° ì´ˆê¸°í™”
        </button>
      </div>
    </main>

    <!-- ë¬¸ë²• íŒ¨í„´ ìƒì„¸ ëª¨ë‹¬ -->
    <div id="pattern-detail-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
      <div class="flex items-center justify-center min-h-screen p-4">
        <div class="bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto">
          <div class="p-6 border-b">
            <div class="flex items-center justify-between">
              <h2 id="pattern-modal-title" class="text-2xl font-bold text-gray-800"></h2>
              <button
                onclick="closePatternModal()"
                class="text-gray-500 hover:text-gray-700"
              >
                <i class="fas fa-times text-xl"></i>
              </button>
            </div>
          </div>
          <div id="pattern-modal-content" class="p-6">
            <!-- ë™ì ìœ¼ë¡œ ì±„ì›Œì§ -->
          </div>
        </div>
      </div>
    </div>

    <!-- Firebase ë° ìŠ¤í¬ë¦½íŠ¸ -->
    <script type="module" src="../js/firebase/firebase-init.js"></script>
    <script type="module" src="js/grammar-learning.js"></script>
  </body>
</html> 